(this.webpackJsonp2iagency=this.webpackJsonp2iagency||[]).push([[5],{642:function(e,a,t){},648:function(e,a,t){},649:function(e,a,t){},650:function(e,a,t){},652:function(e,a,t){},653:function(e,a,t){},654:function(e,a,t){},655:function(e,a,t){},656:function(e,a,t){},688:function(e,a,t){"use strict";t.r(a);var n=t(24),r=t(25),o=t(29),s=t(28),i=t(1),l=t.n(i),c=t(10),m=t(20),d=t(61),u=t(335),g=(t(642),t(582)),h={items:[{name:"Dashboard",url:"/admin/dashboard",icon:"icon-speedometer"},{name:"Master Case Type",url:"/admin/master-case-type",icon:"icon-people"},{name:"Master Threat Type",url:"/admin/master-threat-type",icon:"icon-people"},{name:"Manage Company",url:"/admin/organization",icon:"icon-people",children:[{name:"Company List",url:"/admin/organization",icon:"icon-user"},{name:"Company User",url:"/admin/organization/user",icon:"icon-people"},{name:"Company Employee User",url:"/admin/organization/employee",icon:"icon-people"}]}]},f=t(336),p=t(337),E=(t(92),t(14)),y=(t(648),function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).loading=function(){return l.a.createElement("div",{className:"animated fadeIn pt-1 text-center"},"Loading...")},r.state={loading:!1,dashBoardStats:{organizationCount:0,usersCount:0,foodTruckCount:0,enquiryCount:0},userList:[],enquiryList:[],vaApplicationList:[]},r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0},(function(){E.a.getAPIWithAccessToken("dashboard").then((function(a){if(void 0===a.data.data||!a.data.status)return e.setState({loading:!1}),void m.b.error(a.data.message);var t=a.data.data;e.setState({loading:!1,dashBoardStats:t,lineGraphLabels:t.foodTruckGraph.labels,foodTruckData:t.foodTruckGraph.data,enquiryData:t.enquiryGraph.data})})),E.a.getAPIWithAccessToken("organization?pageNo=1&pageSize=10").then((function(a){if(void 0===a.data.data||!a.data.status)return e.setState({loading:!1}),void m.b.error(a.data.message);var t=a.data.data;e.setState({loading:!1,userList:t.profileList})})),E.a.getAPIWithAccessToken("va-application?pageNo=1&pageSize=10").then((function(a){if(void 0===a.data.data||!a.data.status)return e.setState({loading:!1}),void m.b.error(a.data.message);e.setState({loading:!1,vaApplicationList:a.data.data.requestList})}))}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"animated fadeIn admin-dashboard"},l.a.createElement("div",{className:"overview-info"},l.a.createElement(f.a,null,l.a.createElement(p.a,{xs:"12",sm:"6",lg:"3"},l.a.createElement("div",{className:"card-bg-info card-bg-1"},l.a.createElement("div",{className:"card-bg-icon"},l.a.createElement("img",{src:"/images/user.svg",height:"35",alt:""})),l.a.createElement("div",{className:"card-bg-content"},l.a.createElement("h2",{className:"text-value"},"0"),l.a.createElement("p",null,"Total Organization")))),l.a.createElement(p.a,{xs:"12",sm:"6",lg:"3"},l.a.createElement("div",{className:"card-bg-info card-bg-2"},l.a.createElement("div",{className:"card-bg-icon"},l.a.createElement("img",{src:"/images/timezone.svg",height:"35",alt:""})),l.a.createElement("div",{className:"card-bg-content"},l.a.createElement("h2",{className:"text-value"},"0"),l.a.createElement("p",null,"Total Cases")))),l.a.createElement(p.a,{xs:"12",sm:"6",lg:"3"},l.a.createElement("div",{className:"card-bg-info card-bg-3"},l.a.createElement("div",{className:"card-bg-icon"},l.a.createElement("img",{src:"/images/task.svg",height:"35",alt:""})),l.a.createElement("div",{className:"card-bg-content"},l.a.createElement("h2",{className:"text-value"},"0"),l.a.createElement("p",null,"Total Active Cases")))),l.a.createElement(p.a,{xs:"12",sm:"6",lg:"3"},l.a.createElement("div",{className:"card-bg-info card-bg-4"},l.a.createElement("div",{className:"card-bg-icon"},l.a.createElement("img",{src:"/images/payment.svg",height:"35",alt:""})),l.a.createElement("div",{className:"card-bg-content"},l.a.createElement("h2",{className:"text-value"},"0"),l.a.createElement("p",null,"Total Active Subscriber")))))))}}]),t}(i.Component)),v=t(59),b=t(93),N=t(662),S=t(663),I=t(333),C=t(664),z=t(341),k=t(342),F=t(343),O=t(346),L=t(338),w=t(339),A=t(340),_=t(345),P=t(52),x=t(373),j=t(367),H=t(368),T=t.n(H),D=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).state={buttonProcessing:!1,rowIndex:"",dataTableItem:[]},r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"editCategoryItem",value:function(e){this.props.editCategoryAction(e)}},{key:"deleteCategoryItem",value:function(e){this.props.deleteCategoryAction(e)}},{key:"render",value:function(){var e,a=this,t=[{label:"Name",name:"name"},{label:"Status",name:"status"},{label:"Action",name:"action",options:{filter:!0,customBodyRender:function(e,t,n){var r=t.rowIndex;return l.a.createElement("p",null,l.a.createElement("button",{className:"btn-edit",disabled:a.state.buttonProcessing,onClick:function(){return a.editCategoryItem(r)}},l.a.createElement("i",{className:"fa fa-pencil"})," "),l.a.createElement("button",{className:"btn-delete",disabled:a.state.buttonProcessing,onClick:function(){window.confirm("Are you sure you wish to delete this case type?")&&a.deleteCategoryItem(r)}},l.a.createElement("i",{className:"fa fa-trash"})))}}}],n=[],r=Object(j.a)(this.props.data.entries());try{for(r.s();!(e=r.n()).done;){var o=Object(x.a)(e.value,2),s=o[0],i=o[1];console.log(s);var c={name:i.categoryName,image:i.imagUrl,remark:i.remark||"",status:E.a.getStatus(i.status),action:""};n.push(c)}}catch(d){r.e(d)}finally{r.f()}var m={search:!1,filter:!1,searchOpen:!1,print:!1,viewColumns:!1,download:!1,responsive:"stacked",selectableRows:"none",textLabels:{body:{noMatch:this.props.dataTableLoadingStatus?"Processing........":"",toolTip:"Sort",columnHeaderTooltip:function(e){return"Sort for ".concat(e.label)}}}};return l.a.createElement(T.a,{data:n,columns:t,options:m})}}]),t}(i.Component),q=(t(649),function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).changeHandler=function(e){var a=e.target.name,t=e.target.value;r.setState(Object(v.a)({},a,t))},r.toggle=function(){r.setState({modal:!r.state.modal,category_name:"",remark:"",status:"",rowIndex:-1,formValid:!1,errors:{},categoryImageUrl:""})},r.changeFileHandler=function(e){var a=e.target.files[0],t=r.state.formErrors;t.category_image="","image/png"!==a.type&&"image/jpeg"!==a.type&&"image/jpg"!==a.type&&"image/svg"!==a.type?(t.category_image=" accept only png, jpeg, jpg",r.setState({categoryImage:a,formErrors:t})):r.setState({categoryImage:a,formErrors:t})},r.changeFilterHandler=function(e){var a=e.target.name,t=e.target.value,n=r.state.filterItem;n[a]=t,r.setState({filterItem:n})},r.state={modal:!1,category_name:"",categoryList:[],categoryImage:null,categoryImageUrl:"",loading:!0,rowIndex:-1,status:"",errors:{category_name:"",category_image:"",error:""},category_name_valid:!1,filterItem:{},formValid:!1},r.handleEditCategory=r.handleEditCategory.bind(Object(b.a)(r)),r.submitHandler=r.submitHandler.bind(Object(b.a)(r)),r.handleDeleteCategory=r.handleDeleteCategory.bind(Object(b.a)(r)),r.filterItemList=r.filterItemList.bind(Object(b.a)(r)),r.resetSearchFilter=r.resetSearchFilter.bind(Object(b.a)(r)),r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){this.categoryList()}},{key:"categoryList",value:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="";if(void 0!==a.custom&&""!==a.custom&&(t+=""!==t?"&keyword="+a.custom:"?keyword="+a.custom),void 0!==a.status&&""!==a.status){var n=E.a.getStatusVal(a.status);t+=""!==t?"&status="+n:"?status="+n}this.setState({loading:!0},(function(){E.a.getAPIWithAccessToken("category"+t).then((function(a){if(void 0===a.data.data||!a.data.status)return e.setState({loading:!1}),void m.b.error(a.data.message);e.setState({loading:!1,categoryList:a.data.data})})).catch((function(a){void 0!==a.response&&401===a.response.status?(localStorage.clear(),e.props.history.push("/login")):(e.setState({loading:!1}),m.b.error(a.message))}))}))}},{key:"submitHandler",value:function(e){var a=this;if(e.preventDefault(),e.target.className+=" was-validated",!this.validateForm())return!1;var t={};t.categoryName=this.state.category_name;var n=E.a.getStatusVal(this.state.status);t.status=n,t.remark=this.state.remark,this.setState({loading:!0,formProccessing:!0},(function(){if(a.state.rowIndex>-1){var e=a.state.categoryList[a.state.rowIndex].categoryId;t.categoryId=e,E.a.putAPIWithAccessToken("category",t).then((function(e){if(void 0===e.data.data||!e.data.status){var t={};return void 0!==e.data.errors?t=e.data.errors:t.categoryName=e.data.message,a.setState({formProccessing:!1,loading:!1,errors:t}),!1}a.state.categoryList[a.state.rowIndex]=e.data.data,a.setState({modal:!1,rowIndex:"",formProccessing:!1,loading:!1}),m.b.success(e.data.message),a.categoryList()})).catch((function(e){void 0!==e.response&&401===e.response.status?(localStorage.clear(),a.props.history.push("/login")):(a.setState({formProccessing:!1,loading:!1}),m.b.error(e.message))}))}else E.a.postAPIWithAccessToken("category",t).then((function(e){if(void 0===e.data.data||!e.data.status){var t={};return void 0!==e.data.errors?t=e.data.errors:t.categoryName=e.data.message,a.setState({formProccessing:!1,loading:!1,errors:t}),!1}a.setState({modal:!1,formProccessing:!1,loading:!1}),m.b.success(e.data.message),a.categoryList()})).catch((function(e){void 0!==e.response&&401===e.response.status?(localStorage.clear(),a.props.history.push("/login")):(a.setState({formProccessing:!1,loading:!1}),m.b.error(e.message))}))}))}},{key:"validateForm",value:function(){var e=!0,a=this.state,t={};return void 0!==a.category_name&&""!==a.category_name.trim()||(e=!1,t.categoryName="Case Type name field required"),void 0!==a.status&&""!==a.status.trim()||(e=!0,t.status="Status field required"),this.setState({errors:t}),e}},{key:"errorClass",value:function(e){return 0===e.length?"":"has-error"}},{key:"handleEditCategory",value:function(e){var a,t=this.state.categoryList[e];a=E.a.getStatus(t.status),this.setState({modal:!0,status:a,category_name:t.categoryName,remark:t.remark,rowIndex:e,formValid:!0,category_name_valid:!0,categoryImageUrl:t.imagUrl})}},{key:"handleDeleteCategory",value:function(e){var a=this,t=this.state.categoryList[e];this.setState({loading:!0},(function(){E.a.deleteAPIWithAccessToken("category/"+t.categoryId).then((function(e){a.setState({loading:!1}),void 0!==e.data&&e.data.status?(m.b.success(e.data.message),a.categoryList()):m.b.error(e.data.message)})).catch((function(e){void 0!==e.response&&401===e.response.status?(localStorage.clear(),a.props.history.push("/login")):(a.setState({loading:!1}),m.b.error(e.message))}))}))}},{key:"filterItemList",value:function(){var e=this.state.filterItem;this.categoryList(e)}},{key:"resetSearchFilter",value:function(){this.setState({filterItem:{status:"",custom:""}}),this.categoryList()}},{key:"render",value:function(){var e=this.state,a=e.categoryList,t=e.loading,n=e.modal,r=e.errors,o="";return t&&(o=l.a.createElement(P.a,null)),l.a.createElement("div",{className:"animated fadeIn"},l.a.createElement(f.a,null,o,l.a.createElement(p.a,{lg:12},l.a.createElement(N.a,{className:""},l.a.createElement(S.a,{className:"mainHeading"},l.a.createElement("strong",null,"Case Type List"),l.a.createElement(I.a,{color:"",className:"categoryAdd",type:"button",onClick:this.toggle},l.a.createElement("i",{className:"fa fa-plus"})," Add Case Type")),l.a.createElement(C.a,null,l.a.createElement(f.a,null,l.a.createElement(p.a,{md:12},l.a.createElement(f.a,{className:"filterRow"},l.a.createElement(p.a,{md:"3"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"filter_doctor_id"},"Search By Name"),l.a.createElement(F.a,{type:"text",placeholder:"Search By Name",id:"custom",name:"custom",value:this.state.filterItem.custom,onChange:this.changeFilterHandler}))),l.a.createElement(p.a,{md:"3"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"filter_doctor_id"},"Search By Status"),l.a.createElement(F.a,{type:"select",placeholder:"Search By Status",id:"status",name:"status",value:this.state.filterItem.status,onChange:this.changeFilterHandler},l.a.createElement("option",{value:""},"Select"),l.a.createElement("option",{value:"Active"},"Active"),l.a.createElement("option",{value:"Inactive"},"Inactive")))),l.a.createElement(p.a,{md:"1",className:"p-0"},l.a.createElement(z.a,null,l.a.createElement(k.a,null,"\xa0"),l.a.createElement("br",null),l.a.createElement(I.a,{color:"success",type:"button",size:"sm",onClick:this.filterItemList},l.a.createElement("i",{className:"fa fa-search"})),"\xa0",l.a.createElement(I.a,{color:"danger",type:"reset",size:"sm",onClick:this.resetSearchFilter},l.a.createElement("i",{className:"fa fa-refresh"})))))),l.a.createElement(p.a,{lg:12},l.a.createElement(D,{data:a,toggle:this.toggle,editCategoryAction:this.handleEditCategory,deleteCategoryAction:this.handleDeleteCategory,dataTableLoadingStatus:this.state.loading}))))))),l.a.createElement(O.a,{isOpen:n,toggle:this.toggle,className:"category-modal-section"},l.a.createElement(L.a,{toggle:this.toggle},"Case Type"),l.a.createElement(w.a,{onSubmit:this.submitHandler,noValidate:!0},l.a.createElement(A.a,null,l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"category_name"},"Case Type Name"),l.a.createElement(F.a,{type:"text",placeholder:"Case Type Name *",invalid:void 0!==r.categoryName&&""!==r.categoryName,id:"category_name",name:"category_name",value:this.state.category_name,onChange:this.changeHandler,required:!0}),l.a.createElement("div",{className:"invalid-feedback"},r.categoryName)),l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"template_status"},"Status"),l.a.createElement(F.a,{type:"select",placeholder:"Status *",invalid:void 0!==r.status&&""!==r.status,id:"status",name:"status",value:this.state.status,onChange:this.changeHandler,required:!0},l.a.createElement("option",{value:""},"Select Status"),l.a.createElement("option",{value:"Active"},"Active"),l.a.createElement("option",{value:"Inactive"},"Inactive")),l.a.createElement("div",{className:"invalid-feedback"},r.status))),l.a.createElement(_.a,null,l.a.createElement(I.a,{color:"primary",disabled:this.state.formProccessing,type:"submit"},"Submit"),l.a.createElement(I.a,{color:"secondary",onClick:this.toggle},"Cancel")))))}}]),t}(i.Component)),V=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).state={buttonProcessing:!1,rowIndex:"",dataTableItem:[]},r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"editCategoryItem",value:function(e){this.props.editCategoryAction(e)}},{key:"deleteCategoryItem",value:function(e){this.props.deleteCategoryAction(e)}},{key:"render",value:function(){var e,a=this,t=[{label:"Name",name:"name"},{label:"Status",name:"status"},{label:"Action",name:"action",options:{filter:!0,customBodyRender:function(e,t,n){var r=t.rowIndex;return l.a.createElement("p",null,l.a.createElement("button",{className:"btn-edit",disabled:a.state.buttonProcessing,onClick:function(){return a.editCategoryItem(r)}},l.a.createElement("i",{className:"fa fa-pencil"})," "),l.a.createElement("button",{className:"btn-delete",disabled:a.state.buttonProcessing,onClick:function(){window.confirm("Are you sure you wish to delete this case type?")&&a.deleteCategoryItem(r)}},l.a.createElement("i",{className:"fa fa-trash"})))}}}],n=[],r=Object(j.a)(this.props.data.entries());try{for(r.s();!(e=r.n()).done;){var o=Object(x.a)(e.value,2),s=o[0],i=o[1];console.log(s);var c={name:i.threatName,image:i.imagUrl,remark:i.remark||"",status:E.a.getStatus(i.status),action:""};n.push(c)}}catch(d){r.e(d)}finally{r.f()}var m={search:!1,filter:!1,searchOpen:!1,print:!1,viewColumns:!1,download:!1,responsive:"stacked",selectableRows:"none",textLabels:{body:{noMatch:this.props.dataTableLoadingStatus?"Processing........":"",toolTip:"Sort",columnHeaderTooltip:function(e){return"Sort for ".concat(e.label)}}}};return l.a.createElement(T.a,{data:n,columns:t,options:m})}}]),t}(i.Component),W=(t(650),function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).changeHandler=function(e){var a=e.target.name,t=e.target.value;r.setState(Object(v.a)({},a,t))},r.toggle=function(){r.setState({modal:!r.state.modal,category_name:"",remark:"",status:"",rowIndex:-1,formValid:!1,errors:{},categoryImageUrl:""})},r.changeFileHandler=function(e){var a=e.target.files[0],t=r.state.formErrors;t.category_image="","image/png"!==a.type&&"image/jpeg"!==a.type&&"image/jpg"!==a.type&&"image/svg"!==a.type?(t.category_image=" accept only png, jpeg, jpg",r.setState({categoryImage:a,formErrors:t})):r.setState({categoryImage:a,formErrors:t})},r.changeFilterHandler=function(e){var a=e.target.name,t=e.target.value,n=r.state.filterItem;n[a]=t,r.setState({filterItem:n})},r.state={modal:!1,category_name:"",categoryList:[],categoryImage:null,categoryImageUrl:"",loading:!0,rowIndex:-1,status:"",errors:{category_name:"",category_image:"",error:""},category_name_valid:!1,filterItem:{},formValid:!1},r.handleEditCategory=r.handleEditCategory.bind(Object(b.a)(r)),r.submitHandler=r.submitHandler.bind(Object(b.a)(r)),r.handleDeleteCategory=r.handleDeleteCategory.bind(Object(b.a)(r)),r.filterItemList=r.filterItemList.bind(Object(b.a)(r)),r.resetSearchFilter=r.resetSearchFilter.bind(Object(b.a)(r)),r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){this.categoryList()}},{key:"categoryList",value:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="";if(void 0!==a.custom&&""!==a.custom&&(t+=""!==t?"&keyword="+a.custom:"?keyword="+a.custom),void 0!==a.status&&""!==a.status){var n=E.a.getStatusVal(a.status);t+=""!==t?"&status="+n:"?status="+n}this.setState({loading:!0},(function(){E.a.getAPIWithAccessToken("threat"+t).then((function(a){if(void 0===a.data.data||!a.data.status)return e.setState({loading:!1}),void m.b.error(a.data.message);e.setState({loading:!1,categoryList:a.data.data})})).catch((function(a){void 0!==a.response&&401===a.response.status?(localStorage.clear(),e.props.history.push("/login")):(e.setState({loading:!1}),m.b.error(a.message))}))}))}},{key:"submitHandler",value:function(e){var a=this;if(e.preventDefault(),e.target.className+=" was-validated",!this.validateForm())return!1;var t={};t.threatName=this.state.category_name;var n=E.a.getStatusVal(this.state.status);t.status=n,t.remark=this.state.remark,this.setState({loading:!0,formProccessing:!0},(function(){if(a.state.rowIndex>-1){var e=a.state.categoryList[a.state.rowIndex].threatId;t.threatId=e,E.a.putAPIWithAccessToken("threat",t).then((function(e){if(void 0===e.data.data||!e.data.status){var t={};return void 0!==e.data.errors?t=e.data.errors:t.threatName=e.data.message,a.setState({formProccessing:!1,loading:!1,errors:t}),!1}a.state.categoryList[a.state.rowIndex]=e.data.data,a.setState({modal:!1,rowIndex:"",formProccessing:!1,loading:!1}),m.b.success(e.data.message),a.categoryList()})).catch((function(e){void 0!==e.response&&401===e.response.status?(localStorage.clear(),a.props.history.push("/login")):(a.setState({formProccessing:!1,loading:!1}),m.b.error(e.message))}))}else E.a.postAPIWithAccessToken("threat",t).then((function(e){if(void 0===e.data.data||!e.data.status){var t={};return void 0!==e.data.errors?t=e.data.errors:t.threatName=e.data.message,a.setState({formProccessing:!1,loading:!1,errors:t}),!1}a.setState({modal:!1,formProccessing:!1,loading:!1}),m.b.success(e.data.message),a.categoryList()})).catch((function(e){void 0!==e.response&&401===e.response.status?(localStorage.clear(),a.props.history.push("/login")):(a.setState({formProccessing:!1,loading:!1}),m.b.error(e.message))}))}))}},{key:"validateForm",value:function(){var e=!0,a=this.state,t={};return void 0!==a.category_name&&""!==a.category_name.trim()||(e=!1,t.threatName="Threat type name field required"),void 0!==a.status&&""!==a.status.trim()||(e=!0,t.status="Status field required"),this.setState({errors:t}),e}},{key:"errorClass",value:function(e){return 0===e.length?"":"has-error"}},{key:"handleEditCategory",value:function(e){var a,t=this.state.categoryList[e];a=E.a.getStatus(t.status),this.setState({modal:!0,status:a,category_name:t.threatName,remark:t.remark,rowIndex:e,formValid:!0,category_name_valid:!0,categoryImageUrl:t.imagUrl})}},{key:"handleDeleteCategory",value:function(e){var a=this,t=this.state.categoryList[e];this.setState({loading:!0},(function(){E.a.deleteAPIWithAccessToken("threat/"+t.threatId).then((function(e){a.setState({loading:!1}),void 0!==e.data&&e.data.status?(m.b.success(e.data.message),a.categoryList()):m.b.error(e.data.message)})).catch((function(e){void 0!==e.response&&401===e.response.status?(localStorage.clear(),a.props.history.push("/login")):(a.setState({loading:!1}),m.b.error(e.message))}))}))}},{key:"filterItemList",value:function(){var e=this.state.filterItem;this.categoryList(e)}},{key:"resetSearchFilter",value:function(){this.setState({filterItem:{status:"",custom:""}}),this.categoryList()}},{key:"render",value:function(){var e=this.state,a=e.categoryList,t=e.loading,n=e.modal,r=e.errors,o="";return t&&(o=l.a.createElement(P.a,null)),l.a.createElement("div",{className:"animated fadeIn"},l.a.createElement(f.a,null,o,l.a.createElement(p.a,{lg:12},l.a.createElement(N.a,{className:""},l.a.createElement(S.a,{className:"mainHeading"},l.a.createElement("strong",null,"Threat Type List"),l.a.createElement(I.a,{color:"",className:"categoryAdd",type:"button",onClick:this.toggle},l.a.createElement("i",{className:"fa fa-plus"})," Add Threat Type")),l.a.createElement(C.a,null,l.a.createElement(f.a,null,l.a.createElement(p.a,{md:12},l.a.createElement(f.a,{className:"filterRow"},l.a.createElement(p.a,{md:"3"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"filter_doctor_id"},"Search By Name"),l.a.createElement(F.a,{type:"text",placeholder:"Search By Name",id:"custom",name:"custom",value:this.state.filterItem.custom,onChange:this.changeFilterHandler}))),l.a.createElement(p.a,{md:"3"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"filter_doctor_id"},"Search By Status"),l.a.createElement(F.a,{type:"select",placeholder:"Search By Status",id:"status",name:"status",value:this.state.filterItem.status,onChange:this.changeFilterHandler},l.a.createElement("option",{value:""},"Select"),l.a.createElement("option",{value:"Active"},"Active"),l.a.createElement("option",{value:"Inactive"},"Inactive")))),l.a.createElement(p.a,{md:"1",className:"p-0"},l.a.createElement(z.a,null,l.a.createElement(k.a,null,"\xa0"),l.a.createElement("br",null),l.a.createElement(I.a,{color:"success",type:"button",size:"sm",onClick:this.filterItemList},l.a.createElement("i",{className:"fa fa-search"})),"\xa0",l.a.createElement(I.a,{color:"danger",type:"reset",size:"sm",onClick:this.resetSearchFilter},l.a.createElement("i",{className:"fa fa-refresh"})))))),l.a.createElement(p.a,{lg:12},l.a.createElement(V,{data:a,toggle:this.toggle,editCategoryAction:this.handleEditCategory,deleteCategoryAction:this.handleDeleteCategory,dataTableLoadingStatus:this.state.loading}))))))),l.a.createElement(O.a,{isOpen:n,toggle:this.toggle,className:"category-modal-section"},l.a.createElement(L.a,{toggle:this.toggle},"Threat Type"),l.a.createElement(w.a,{onSubmit:this.submitHandler,noValidate:!0},l.a.createElement(A.a,null,l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"category_name"},"Threat Type Name"),l.a.createElement(F.a,{type:"text",placeholder:"Threat Type Name *",invalid:void 0!==r.threatName&&""!==r.threatName,id:"category_name",name:"category_name",value:this.state.category_name,onChange:this.changeHandler,required:!0}),l.a.createElement("div",{className:"invalid-feedback"},r.threatName)),l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"template_status"},"Status"),l.a.createElement(F.a,{type:"select",placeholder:"Status *",invalid:void 0!==r.status&&""!==r.status,id:"status",name:"status",value:this.state.status,onChange:this.changeHandler,required:!0},l.a.createElement("option",{value:""},"Select Status"),l.a.createElement("option",{value:"Active"},"Active"),l.a.createElement("option",{value:"Inactive"},"Inactive")),l.a.createElement("div",{className:"invalid-feedback"},r.status))),l.a.createElement(_.a,null,l.a.createElement(I.a,{color:"primary",disabled:this.state.formProccessing,type:"submit"},"Submit"),l.a.createElement(I.a,{color:"secondary",onClick:this.toggle},"Cancel")))))}}]),t}(i.Component)),B=(t(651),function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).state={buttonProcessing:!1,rowIndex:"",dataTableItem:[]},r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"editOrganizationItem",value:function(e){this.props.editOrganizationAction(e)}},{key:"deleteOrganizationItem",value:function(e){this.props.deleteOrganizationAction(e)}},{key:"render",value:function(){var e,a=this,t=[],n=Object(j.a)(this.props.data.entries());try{for(n.s();!(e=n.n()).done;){var r=Object(x.a)(e.value,2),o=r[0],s=r[1];console.log(o);var i={organizationName:s.organizationName,authId:s.authId,firstName:s.firstName+" "+s.lastName,email:s.email,phoneNumber:s.phoneNumber||" ",address:s.address||" ",createdAt:new Date(s.createdAt).toLocaleDateString("en-US"),status:s.status?"Active":"Inactive"};t.push(i)}}catch(u){n.e(u)}finally{n.f()}var c=[{label:"User Name",name:"firstName"},{label:"Organization",name:"organizationName"},{label:"Email ID",name:"email"},{label:"Phone no.",name:"phoneNumber"},{label:"Address",name:"address"},{label:"Registered on",name:"createdAt"},{label:"Status",name:"status"},{label:"Action",name:"action",options:{filter:!1,sort:!1,download:!1,customBodyRender:function(e,n,r){var o=n.rowIndex;return l.a.createElement("p",null,l.a.createElement("button",{className:"btn-edit",disabled:a.state.buttonProcessing,onClick:function(){return a.editOrganizationItem(o)}},l.a.createElement("i",{className:"fa fa-pencil"})," "),l.a.createElement(d.Link,{className:"btn-view",to:"/admin/organization/user?organizationId=".concat(t[o].authId),title:"Company User"},l.a.createElement("i",{className:"fa fa-user"})," "),l.a.createElement(d.Link,{className:"btn-view",to:"/admin/organization/employee?organizationId=".concat(t[o].authId),title:"Company Employee"},l.a.createElement("i",{className:"fa fa-users"})," "),l.a.createElement("a",{href:"#!",className:"btn-delete",disabled:a.state.buttonProcessing,onClick:function(){window.confirm("Are you sure you want to delete this record?")&&a.deleteOrganizationItem(o)}},l.a.createElement("i",{className:"fa fa-trash"})))}}}],m={search:!0,filter:!1,searchOpen:!1,print:!1,download:!0,downloadOptions:{filename:"va-client-list.csv",separator:","},responsive:"stacked",selectableRows:"none",textLabels:{body:{noMatch:this.props.dataTableLoadingStatus?"Loading........":"",toolTip:"Sort",columnHeaderTooltip:function(e){return"Sort for ".concat(e.label)}}},fixedHeaderOptions:{xAxis:!1,yAxis:!1}};return l.a.createElement(T.a,{title:"Company List",data:t,columns:c,options:m})}}]),t}(i.Component)),M=(t(652),function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).changeHandler=function(e){var a=e.target.name,t=e.target.value,n=r.state.formField;n[a]=t,r.setState({formField:n})},r.toggle=function(){r.setState({modal:!r.state.modal,rowIndex:-1,changeStatusBtn:"",formValid:!1,formField:{organizationName:"",email:"",firstName:"",lastName:"",mobileNumber:"",phoneNumber:"",address:"",address2:"",city:"",state:"",country:"",postalCode:""},errors:{organizationName:"",email:"",firstName:"",lastName:"",error:""}})},r.changeFilterHandler=function(e){var a=e.target.name,t=e.target.value,n=r.state.filterItem;n[a]=t,r.setState({filterItem:n})},r.setFilterFromDate=function(e){var a=r.state.filterItem;a.filterFrom=e,r.setState({filterItem:a})},r.setFilterToDate=function(e){var a=r.state.filterItem;a.filterTo=e,r.setState({filterItem:a})},r.resetfilterOragnization=function(){r.setState({filterItem:{filter_organization_id:"",filterOrgName:"",filterMobile:"",filterFrom:"",filterTo:"",filterStatus:"",custom_search:""}}),r.organizationList()},r.state={modal:!1,organizationList:[],loading:!0,rowIndex:-1,changeStatusBtn:"",formProccessing:!1,formField:{organizationName:"",email:"",firstName:"",lastName:"",mobileNumber:"",phoneNumber:"",address:"",address2:"",city:"",state:"",country:"",postalCode:""},errors:{organizationName:"",email:"",firstName:"",lastName:"",error:""},formValid:!1,filterItem:{filter_organization_id:"",filterOrgName:"",filterLocation:"",filterFrom:"",filterTo:"",filterStatus:"",custom_search:""}},r.handleEditOrganization=r.handleEditOrganization.bind(Object(b.a)(r)),r.submitHandler=r.submitHandler.bind(Object(b.a)(r)),r.handleDeleteOrganization=r.handleDeleteOrganization.bind(Object(b.a)(r)),r.filterOragnizationList=r.filterOragnizationList.bind(Object(b.a)(r)),r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){this.organizationList()}},{key:"organizationList",value:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="";if(console.log(a),void 0!==a.filterOrgName&&""!==a.filterOrgName&&(t+=""!==t?"&organizationName="+a.filterOrgName:"?organizationName="+a.filterOrgName),void 0!==a.filterLocation&&""!==a.filterLocation&&(t+=""!==t?"&location="+a.filterLocation:"?location="+a.filterLocation),void 0!==a.custom_search&&""!==a.custom_search&&(t+=""!==t?"&emailOrName="+a.custom_search:"?emailOrName="+a.custom_search),void 0!==a.filterFrom&&""!==a.filterFrom){var n=this.getFormatDate(a.filterFrom);t+=""!==t?"&start_date="+n:"?start_date="+n}if(void 0!==a.filterTo&&""!==a.filterTo){var r=this.getFormatDate(a.filterTo);t+=""!==t?"&end_date="+r:"?end_date="+r}void 0!==a.filterStatus&&""!==a.filterStatus&&(t+=""!==t?"&status="+a.filterStatus:"?status="+a.filterStatus),this.setState({loading:!0},(function(){E.a.getAPIWithAccessToken("organization"+t).then((function(a){if(void 0===a.data.data||!a.data.status)return e.setState({loading:!1}),void m.b.error(a.data.message);e.setState({loading:!1,organizationList:a.data.data})})).catch((function(a){void 0!==a.response&&401===a.response.status?(localStorage.clear(),e.props.history.push("/login")):(e.setState({loading:!1}),m.b.error(a.message))}))}))}},{key:"submitHandler",value:function(e){var a=this;if(e.preventDefault(),e.target.className+=" was-validated",this.validateForm())return!1;this.setState({formProccessing:!0},(function(){var e=a.state.formField,t={email:e.email,firstName:e.firstName,lastName:e.lastName,mobileNumber:e.mobileNumber,phoneNumber:e.phoneNumber,organizationName:e.organizationName,address:e.address,address2:e.address2,city:e.city,state:e.state,country:e.country,postalCode:e.postalCode},n=a.state.rowIndex;if(n>-1){var r=a.state.organizationList[n];t.organizationId=r.organizationId,E.a.putAPIWithAccessToken("organization/"+r.organizationId,t).then((function(e){if(void 0===e.data.data||!e.data.status)return a.setState({formProccessing:!1}),void m.b.error(e.data.message);a.setState({modal:!1,formProccessing:!1}),m.b.success(e.data.message),a.organizationList()})).catch((function(e){void 0!==e.response&&401===e.response.status?(localStorage.clear(),a.props.history.push("/login")):(a.setState({formProccessing:!1}),m.b.error(e.message))}))}else E.a.postAPIWithAccessToken("organization",t).then((function(e){if(void 0===e.data.data||!e.data.status)return a.setState({formProccessing:!1}),void m.b.error(e.data.message);a.setState({modal:!1}),m.b.success(e.data.message),a.organizationList()})).catch((function(e){void 0!==e.response&&401===e.response.status?(localStorage.clear(),a.props.history.push("/login")):(a.setState({formProccessing:!1}),m.b.error(e.message))}))}))}},{key:"validateForm",value:function(){var e=!1,a=this.state.formField,t={},n=new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i);return void 0!==a.firstName&&""!==a.firstName.trim()||(e=!0,t.firstName="First name field required!"),void 0!==a.organizationName&&""!==a.organizationName.trim()||(e=!0,t.organizationName="Organization field required!"),void 0===a.email||""===a.email.trim()?(e=!0,t.email="Email field required!"):n.test(a.email)||(e=!0,t.email="Invalid email format"),this.setState({errors:t}),e}},{key:"errorClass",value:function(e){return 0===e.length?"":"has-error"}},{key:"handleEditOrganization",value:function(e){var a=this,t=this.state.organizationList[e],n={organizationName:t.organizationName,email:t.email,firstName:t.firstName,lastName:t.lastName,phoneNumber:t.phoneNumber,mobileNumber:t.mobileNumber,address:t.address,address2:t.address2,city:t.city,state:t.state,country:t.country,postalCode:t.postalCode},r=l.a.createElement(I.a,{type:"button",size:"sm",className:"changeStatusBtn "+(t.status?"btn-danger":"btn-success"),onClick:function(){return a.changeProfileStatus(t.profileId,t.status)}},t.status?"De-Activate Account":"Activate Account");this.setState({rowIndex:e,formField:n,modal:!0,changeStatusBtn:r,formValid:!0})}},{key:"changeProfileStatus",value:function(e,a){var t=this;this.setState({loading:!0},(function(){var n={profileId:e,status:!a};E.a.putAPIWithAccessToken("organization/status",n).then((function(e){if(void 0===e.data.data||!e.data.status)return t.setState({loading:!1}),void m.b.error(e.data.message);t.setState({modal:!1,loading:!1}),m.b.success(e.data.message),t.organizationList()})).catch((function(e){void 0!==e.response&&401===e.response.status?(localStorage.clear(),t.props.history.push("/login")):t.setState({loading:!1}),m.b.error(e.message)}))}))}},{key:"handleDeleteOrganization",value:function(e){var a=this,t={profileId:this.state.organizationList[e].profileId};this.setState({loading:!0},(function(){E.a.deleteAPIWithAccessToken("organization",t).then((function(e){a.setState({loading:!1}),void 0!==e.data&&e.data.status?(m.b.success(e.data.message),a.organizationList()):m.b.error(e.data.message)})).catch((function(e){void 0!==e.response&&401===e.response.status?(localStorage.clear(),a.props.history.push("/login")):(a.setState({loading:!1}),m.b.error(e.message))}))}))}},{key:"filterOragnizationList",value:function(){var e=this.state.filterItem;this.organizationList(e)}},{key:"getFormatDate",value:function(e){return e.getFullYear().toString()+"-"+(e.getMonth()+101).toString().substring(1)+"-"+(e.getDate()+100).toString().substring(1)}},{key:"render",value:function(){var e=this.state,a=e.organizationList,t=e.loading,n=e.modal,r=e.formProccessing,o=e.changeStatusBtn,s=e.filterItem,i=e.errors,c="";t&&(c=l.a.createElement(P.a,null));var m=l.a.createElement(l.a.Fragment,null,"Submit ",l.a.createElement("i",{className:"fa fa-spinner"}));return l.a.createElement("div",{className:"animated fadeIn"},l.a.createElement(f.a,null,c,l.a.createElement(p.a,{lg:12},l.a.createElement(N.a,null,l.a.createElement(S.a,{className:"mainHeading"},l.a.createElement("strong",null,"Company List"),l.a.createElement(I.a,{color:"primary",className:"categoryAdd",type:"button",onClick:this.toggle},l.a.createElement("i",{className:"fa fa-plus"})," Add New Company")),l.a.createElement(C.a,null,l.a.createElement(f.a,null,l.a.createElement(p.a,{md:12},l.a.createElement(f.a,{className:"filterRow"},l.a.createElement(p.a,{md:"2",className:"pl-3"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"filterOrgName"},"Organization"),l.a.createElement(F.a,{id:"filterOrgName",name:"filterOrgName",placeholder:"Organization Name",value:this.state.filterItem.filterOrgName,onChange:this.changeFilterHandler}))),l.a.createElement(p.a,{md:"2"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"custom_search"},"Email ID / Name"),l.a.createElement(F.a,{type:"text",placeholder:"Search By Email ID / Name",id:"custom_search",name:"custom_search",value:this.state.filterItem.custom_search,onChange:this.changeFilterHandler}))),l.a.createElement(p.a,{md:"1"},l.a.createElement(z.a,null,l.a.createElement(k.a,null,"Status"),l.a.createElement(F.a,{type:"select",name:"filterStatus",value:s.filterStatus,onChange:this.changeFilterHandler},l.a.createElement("option",{value:""},"All"),l.a.createElement("option",{value:"1"},"Active"),l.a.createElement("option",{value:"0"},"Inactive")))),l.a.createElement(p.a,{md:"1",className:"p-0"},l.a.createElement(z.a,null,l.a.createElement(k.a,null,"\xa0"),l.a.createElement("br",null),l.a.createElement(I.a,{color:"success",type:"button",size:"sm",onClick:this.filterOragnizationList},l.a.createElement("i",{className:"fa fa-search"})),"\xa0",l.a.createElement(I.a,{color:"danger",type:"reset",size:"sm",onClick:this.resetfilterOragnization},l.a.createElement("i",{className:"fa fa-refresh"})))))),l.a.createElement(p.a,{lg:12},l.a.createElement(B,{data:a,editOrganizationAction:this.handleEditOrganization,deleteOrganizationAction:this.handleDeleteOrganization,dataTableLoadingStatus:this.state.loading}))))))),l.a.createElement(O.a,{isOpen:n,toggle:this.toggle,className:"full-width-modal-section organization-modal"},l.a.createElement(L.a,{toggle:this.toggle},"Company Info"),l.a.createElement(w.a,{onSubmit:this.submitHandler,noValidate:!0},l.a.createElement(A.a,null,l.a.createElement(f.a,null,l.a.createElement(p.a,{md:"6"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"firstName"},"First Name"),l.a.createElement(F.a,{type:"text",placeholder:"First Person *",id:"firstName",name:"firstName",value:this.state.formField.firstName,onChange:this.changeHandler,required:!0}),l.a.createElement("div",{className:"invalid-feedback"},i.firstName))),l.a.createElement(p.a,{md:"6"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"lastName"},"Last Name"),l.a.createElement(F.a,{type:"text",placeholder:"Last Person",id:"lastName",name:"lastName",value:this.state.formField.lastName,onChange:this.changeHandler}))),l.a.createElement(p.a,{md:"6"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"organizationName"},"Organization Name"),l.a.createElement(F.a,{type:"text",placeholder:"Organization Name *",id:"organizationName",name:"organizationName",value:this.state.formField.organizationName,onChange:this.changeHandler,required:!0}),l.a.createElement("div",{className:"invalid-feedback"},i.organizationName))),l.a.createElement(p.a,{md:"6"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"email"},"Email"),l.a.createElement(F.a,{type:"text",placeholder:"Email *",id:"email",name:"email",value:this.state.formField.email,onChange:this.changeHandler,required:!0}),l.a.createElement("div",{className:"invalid-feedback"},i.email))),l.a.createElement(p.a,{md:"6"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"phoneNumber"},"Phone Number"),l.a.createElement(F.a,{type:"number",placeholder:"Phone Number",id:"phoneNumber",name:"phoneNumber",value:this.state.formField.phoneNumber,onChange:this.changeHandler}))),l.a.createElement(p.a,{md:"6"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"address"},"Street Address "),l.a.createElement(F.a,{type:"text",placeholder:"Street Address",id:"address",name:"address",value:this.state.formField.address,onChange:this.changeHandler}))),l.a.createElement(p.a,{md:"6"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"city"},"City "),l.a.createElement(F.a,{type:"text",placeholder:"City",id:"city",name:"city",value:this.state.formField.city,onChange:this.changeHandler}))),l.a.createElement(p.a,{md:"6"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"state"},"State"),l.a.createElement(F.a,{type:"text",placeholder:"State",id:"state",name:"state",value:this.state.formField.state,onChange:this.changeHandler}))),l.a.createElement(p.a,{md:"6"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"postalCode"},"Postal Code "),l.a.createElement(F.a,{type:"text",placeholder:"Postal Code",id:"postalCode",name:"postalCode",value:this.state.formField.postalCode,onChange:this.changeHandler}))),l.a.createElement(p.a,{md:"6"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"country"},"Country "),l.a.createElement(F.a,{type:"text",placeholder:"Country",id:"country",name:"country",value:this.state.formField.country,onChange:this.changeHandler}))))),l.a.createElement(_.a,null,o,l.a.createElement(I.a,{color:"primary",disabled:r,type:"submit"},r?m:"Save Changes"),l.a.createElement(I.a,{color:"secondary",onClick:this.toggle},"Cancel")))))}}]),t}(i.Component)),R=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).state={buttonProcessing:!1,rowIndex:"",dataTableItem:[]},r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"editEmployeeItem",value:function(e){this.props.editEmployeeAction(e)}},{key:"deleteEmployeeItem",value:function(e){this.props.deleteEmployeeAction(e)}},{key:"render",value:function(){var e,a=this,t=[],n=Object(j.a)(this.props.data.entries());try{for(n.s();!(e=n.n()).done;){var r=Object(x.a)(e.value,2),o=r[0],s=r[1];console.log(o);var i={organizationName:s.organizationName,firstName:"".concat(s.firstName," ").concat(s.lastName),email:s.email,roleName:s.roleName||" ",phoneNumber:s.phoneNumber||" ",address:s.address||" ",city:s.city||" ",state:s.state||" ",country:s.country||" ",status:E.a.getStatus(s.status),action:""};t.push(i)}}catch(d){n.e(d)}finally{n.f()}var c=[{label:"Employee Name",name:"firstName"},{label:"Organization Name",name:"organizationName"},{label:"Email",name:"email"},{label:"Phone Number",name:"phoneNumber"},{label:"Status",name:"status"},{label:"Action",name:"action",options:{filter:!0,customBodyRender:function(e,t,n){var r=t.rowIndex;return l.a.createElement("p",null,l.a.createElement("button",{className:"btn-edit",disabled:a.state.buttonProcessing,onClick:function(){return a.editEmployeeItem(r)}},l.a.createElement("i",{className:"fa fa-pencil"})," "),l.a.createElement("button",{className:"btn-delete",disabled:a.state.buttonProcessing,onClick:function(){window.confirm("Are you sure you wish to delete this employee?")&&a.deleteEmployeeItem(r)}},l.a.createElement("i",{className:"fa fa-trash"})))}}}],m={search:!0,viewColumns:!1,filter:!1,searchOpen:!1,print:!1,download:!0,responsive:"stacked",selectableRows:"none",textLabels:{body:{noMatch:this.props.dataTableLoadingStatus?"Processing........":"",toolTip:"Sort",columnHeaderTooltip:function(e){return"Sort for ".concat(e.label)}}},fixedHeaderOptions:{xAxis:!1,yAxis:!1}};return l.a.createElement(T.a,{title:"Company Employee User",data:t,columns:c,options:m})}}]),t}(i.Component),U=(t(653),t(402));function $(e){var a=e.organizationInfo;return l.a.createElement("option",{value:a.authId},a.organizationName)}var G=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).changeHandler=function(e){var a=e.target.name,t=e.target.value,n=r.state.formField;n[a]=t,r.setState({formField:n})},r.changeFilterHandler=function(e){var a=e.target.name,t=e.target.value,n=r.state.filterItem;n[a]=t,r.setState({filterItem:n})},r.toggle=function(){r.setState({modal:!r.state.modal,rowIndex:-1,formValid:!1,formProccessing:!1,formField:{email:"",firstName:"",lastName:"",phoneNumber:"",address:"",city:"",state:"",country:"",postalCode:"",role:""},errors:{email:"",employee_name:"",role:"",error:""}})},r.state={modal:!1,EmployeeList:[],organizationList:[],loading:!0,formProccessing:!1,rowIndex:-1,formField:{organizationId:"",email:"",firstName:"",lastName:"",phoneNumber:"",address:"",city:"",state:"",country:"",postalCode:"",role:"",status:""},errors:{email:"",employee_name:"",role:"",error:""},formValid:!0,filterItem:{filter_organization_id:"",country:"",state:"",custom_search:""}},r.handleEditEmployee=r.handleEditEmployee.bind(Object(b.a)(r)),r.submitHandler=r.submitHandler.bind(Object(b.a)(r)),r.handleDeleteEmployee=r.handleDeleteEmployee.bind(Object(b.a)(r)),r.filterEmployeeList=r.filterEmployeeList.bind(Object(b.a)(r)),r.resetSearchFilter=r.resetSearchFilter.bind(Object(b.a)(r)),r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=U.parse(this.props.location.search);if(void 0!==e.organizationId){var a=this.state.filterItem;a.filter_organization_id=e.organizationId,this.setState({filterItem:a})}this.EmployeeList(this.state.filterItem),this.organizationList()}},{key:"EmployeeList",value:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="";void 0!==a.filter_organization_id&&""!==a.filter_organization_id&&(t+=""!==t?"&organizationId="+a.filter_organization_id:"?organizationId="+a.filter_organization_id),void 0!==a.custom_search&&""!==a.custom_search&&(t+=""!==t?"&keyword="+a.custom_search:"?keyword="+a.custom_search),this.setState({loading:!0},(function(){E.a.getAPIWithAccessToken("employee"+t).then((function(a){if(void 0===a.data.data||!a.data.status)return e.setState({loading:!1}),void m.b.error(a.data.message);e.setState({loading:!1,EmployeeList:a.data.data})})).catch((function(a){void 0!==a.response&&401===a.response.status?(localStorage.clear(),e.props.history.push("/login")):(e.setState({loading:!1}),m.b.error(a.message))}))}))}},{key:"organizationList",value:function(){var e=this;E.a.getAPIWithAccessToken("organization").then((function(a){if(void 0===a.data.data||!a.data.status)return e.setState({loading:!1}),void m.b.error(a.data.message);e.setState({loading:!1,organizationList:a.data.data})})).catch((function(a){void 0!==a.response&&401===a.response.status?(localStorage.clear(),e.props.history.push("/login")):e.setState({loading:!1})}))}},{key:"filterEmployeeList",value:function(){var e=this.state.filterItem;this.EmployeeList(e)}},{key:"submitHandler",value:function(e){var a=this;if(e.preventDefault(),e.target.className+=" was-validated",this.validateForm())return!1;this.setState({formProccessing:!0},(function(){var e=a.state.formField,t=E.a.getStatusVal(e.status),n={email:e.email,firstName:e.firstName,lastName:e.lastName,phoneNumber:e.phoneNumber,address:e.address,roleName:e.role,city:e.city,state:e.state,country:e.country,postalCode:e.postalCode,employeeName:e.firstName,organizationAuthId:e.organizationId,status:t},r=a.state.rowIndex;if(r>-1){var o=a.state.EmployeeList[r];E.a.putAPIWithAccessToken("employee/"+o.profileId,n).then((function(e){if(void 0===e.data.data||!e.data.status)return a.setState({formProccessing:!1}),void m.b.error(e.data.message);a.setState({modal:!1,formProccessing:!1}),m.b.success(e.data.message),a.EmployeeList(a.state.filterItem)})).catch((function(e){void 0!==e.response&&401===e.response.status?(localStorage.clear(),a.props.history.push("/login")):a.setState({formProccessing:!1}),m.b.error(e.message)}))}else E.a.postAPIWithAccessToken("employee",n).then((function(e){if(void 0===e.data.data||!e.data.status)return a.setState({formProccessing:!1}),void m.b.error(e.data.message);a.setState({modal:!1}),m.b.success(e.data.message),a.EmployeeList(a.state.filterItem)})).catch((function(e){void 0!==e.response&&401===e.response.status?(localStorage.clear(),a.props.history.push("/login")):a.setState({formProccessing:!1}),m.b.error(e.message)}))}))}},{key:"validateForm",value:function(){var e=!1,a=this.state.formField,t={},n=new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i);return void 0!==a.firstName&&""!==a.firstName.trim()||(e=!0,t.firstName="First name field required!"),void 0!==a.organizationId&&""!==a.organizationId.trim()||(e=!0,t.organizationId="Organization field required!"),void 0===a.email||""===a.email.trim()?(e=!0,t.email="Email field required!"):n.test(a.email)||(e=!0,t.email="Invalid email format"),void 0!==a.status&&""!==a.status.trim()||(e=!0,t.status="Status field required"),this.setState({errors:t}),e}},{key:"errorClass",value:function(e){return 0===e.length?"":"has-error"}},{key:"handleEditEmployee",value:function(e){var a,t=this.state.EmployeeList[e];a=E.a.getStatus(t.status);var n={organizationId:t.organizationAuthId,email:t.email,firstName:t.firstName,lastName:t.lastName,phoneNumber:t.phoneNumber,address:t.address,city:t.city,state:t.state,country:t.country,postalCode:t.postalCode,role:t.roleName,status:a};this.setState({rowIndex:e,formField:n,formProccessing:!1,modal:!0,formValid:!0})}},{key:"handleDeleteEmployee",value:function(e){var a=this,t=this.state.EmployeeList[e];this.setState({loading:!0},(function(){E.a.deleteAPIWithAccessToken("employee",{employeeId:t.profileId}).then((function(e){if(void 0===e.data.data||!e.data.status)return a.setState({loading:!1}),void m.b.error(e.data.message);a.setState({modal:!1,loading:!1}),m.b.success(e.data.message),a.EmployeeList()})).catch((function(e){void 0!==e.response&&401===e.response.status?(localStorage.clear(),a.props.history.push("/login")):a.setState({loading:!1}),m.b.error(e.message)}))}))}},{key:"resetSearchFilter",value:function(){this.setState({filterItem:{filter_organization_id:"",custom_search:""}}),this.EmployeeList()}},{key:"render",value:function(){var e=this.state,a=e.EmployeeList,t=e.loading,n=e.modal,r=e.formProccessing,o=e.organizationList,s=e.errors,i="";t&&(i=l.a.createElement(P.a,null));var c=l.a.createElement(l.a.Fragment,null,"Submit ",l.a.createElement("i",{className:"fa fa-spinner"}));return l.a.createElement("div",{className:"animated fadeIn"},l.a.createElement(f.a,null,i,l.a.createElement(p.a,{lg:12},l.a.createElement(N.a,{className:"oep-card"},l.a.createElement(S.a,{className:"mainHeading"},l.a.createElement("strong",null,"Company Employee List")," ",l.a.createElement(I.a,{color:"primary",className:"categoryAdd",type:"button",onClick:this.toggle},l.a.createElement("i",{className:"fa fa-plus"})," Add New")),l.a.createElement(C.a,null,l.a.createElement(f.a,null,l.a.createElement(p.a,{md:12},l.a.createElement(f.a,{className:"filterRow"},l.a.createElement(p.a,{md:"2",className:"pl-3"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"filter_organization_id"},"Organization"),l.a.createElement(F.a,{type:"select",placeholder:"Organization *",id:"filter_organization_id",name:"filter_organization_id",value:this.state.filterItem.filter_organization_id,onChange:this.changeFilterHandler},l.a.createElement("option",{value:""},"Select"),o.map((function(e,a){return l.a.createElement($,{key:a,organizationInfo:e})}))))),l.a.createElement(p.a,{md:"3"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"filter_organization_id"},"Search By Email/ Name"),l.a.createElement(F.a,{type:"text",placeholder:"Search By Email/ Name",id:"custom_search",name:"custom_search",value:this.state.formField.custom_search,onChange:this.changeFilterHandler}))),l.a.createElement(p.a,{md:"1",className:"p-0"},l.a.createElement(z.a,null,l.a.createElement(k.a,null,"\xa0"),l.a.createElement("br",null),l.a.createElement(I.a,{color:"success",type:"button",size:"sm",onClick:this.filterEmployeeList},l.a.createElement("i",{className:"fa fa-search"})),"\xa0",l.a.createElement(I.a,{color:"danger",type:"reset",size:"sm",onClick:this.resetSearchFilter},l.a.createElement("i",{className:"fa fa-refresh"})))))),l.a.createElement(p.a,{md:12},l.a.createElement(R,{data:a,editEmployeeAction:this.handleEditEmployee,deleteEmployeeAction:this.handleDeleteEmployee,dataTableLoadingStatus:this.state.loading}))))))),l.a.createElement(O.a,{isOpen:n,toggle:this.toggle,className:"full-width-modal-section employee-modal"},l.a.createElement(L.a,{toggle:this.toggle},"Company Employee User"),l.a.createElement(w.a,{onSubmit:this.submitHandler,noValidate:!0},l.a.createElement(A.a,null,l.a.createElement(f.a,null,l.a.createElement(p.a,{md:"6"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"organizationId"},"Organization Name"),l.a.createElement(F.a,{type:"select",placeholder:"Organization Name *",id:"organizationId",name:"organizationId",value:this.state.formField.organizationId,onChange:this.changeHandler,required:!0},l.a.createElement("option",{value:""},"Select"),o.map((function(e,a){return l.a.createElement($,{key:a,organizationInfo:e})}))),l.a.createElement("div",{className:"invalid-feedback"},s.organizationId))),l.a.createElement(p.a,{md:"6"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"firstName"},"First Name"),l.a.createElement(F.a,{type:"text",placeholder:"First Person *",id:"firstName",name:"firstName",value:this.state.formField.firstName,onChange:this.changeHandler,required:!0}),l.a.createElement("div",{className:"invalid-feedback"},s.firstName))),l.a.createElement(p.a,{md:"6"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"lastName"},"Last Name"),l.a.createElement(F.a,{type:"text",placeholder:"Last Person",id:"lastName",name:"lastName",value:this.state.formField.lastName,onChange:this.changeHandler}))),l.a.createElement(p.a,{md:"6"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"email"},"Email"),l.a.createElement(F.a,{type:"text",placeholder:"Email *",id:"email",name:"email",value:this.state.formField.email,onChange:this.changeHandler,required:!0}),l.a.createElement("div",{className:"invalid-feedback"},s.email))),l.a.createElement(p.a,{md:"6"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"phoneNumber"},"Phone Number"),l.a.createElement(F.a,{type:"number",placeholder:"Phone Number",id:"phoneNumber",name:"phoneNumber",value:this.state.formField.phoneNumber,onChange:this.changeHandler}))),l.a.createElement(p.a,{md:"6"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"address"},"Street Address "),l.a.createElement(F.a,{type:"text",placeholder:"Street Address",id:"address",name:"address",value:this.state.formField.address,onChange:this.changeHandler}))),l.a.createElement(p.a,{md:"6"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"city"},"City "),l.a.createElement(F.a,{type:"text",placeholder:"City",id:"city",name:"city",value:this.state.formField.city,onChange:this.changeHandler}))),l.a.createElement(p.a,{md:"6"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"state"},"State"),l.a.createElement(F.a,{type:"text",placeholder:"State",id:"state",name:"state",value:this.state.formField.state,onChange:this.changeHandler}))),l.a.createElement(p.a,{md:"6"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"postalCode"},"Postal Code "),l.a.createElement(F.a,{type:"text",placeholder:"Postal Code",id:"postalCode",name:"postalCode",value:this.state.formField.postalCode,onChange:this.changeHandler}))),l.a.createElement(p.a,{md:"6"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"country"},"Country "),l.a.createElement(F.a,{type:"text",placeholder:"Country",id:"country",name:"country",value:this.state.formField.country,onChange:this.changeHandler}))),l.a.createElement(p.a,{md:"6"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"template_status"},"Status"),l.a.createElement(F.a,{type:"select",placeholder:"Status *",invalid:void 0!==s.status&&""!==s.status,id:"status",name:"status",value:this.state.formField.status,onChange:this.changeHandler,required:!0},l.a.createElement("option",{value:""},"Select Status"),l.a.createElement("option",{value:"Active"},"Active"),l.a.createElement("option",{value:"Inactive"},"Inactive")),l.a.createElement("div",{className:"invalid-feedback"},s.status))))),l.a.createElement(_.a,null,l.a.createElement(I.a,{color:"primary",disabled:r,type:"submit"},r?c:"Submit"),l.a.createElement(I.a,{color:"secondary",onClick:this.toggle},"Cancel")))))}}]),t}(i.Component),J=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).state={buttonProcessing:!1,rowIndex:"",dataTableItem:[]},r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"editEmployeeItem",value:function(e){this.props.editEmployeeAction(e)}},{key:"deleteEmployeeItem",value:function(e){this.props.deleteEmployeeAction(e)}},{key:"render",value:function(){var e,a=this,t=[],n=Object(j.a)(this.props.data.entries());try{for(n.s();!(e=n.n()).done;){var r=Object(x.a)(e.value,2),o=r[0],s=r[1];console.log(o);var i={organizationName:s.organizationName,firstName:"".concat(s.firstName," ").concat(s.lastName),email:s.email,roleName:s.roleName||" ",phoneNumber:s.phoneNumber||" ",address:s.address||" ",city:s.city||" ",state:s.state||" ",country:s.country||" ",status:E.a.getStatus(s.status),action:""};t.push(i)}}catch(d){n.e(d)}finally{n.f()}var c=[{label:"User Name",name:"firstName"},{label:"Organization Name",name:"organizationName"},{label:"Email",name:"email"},{label:"Phone Number",name:"phoneNumber"},{label:"Status",name:"status"},{label:"Action",name:"action",options:{filter:!0,customBodyRender:function(e,t,n){var r=t.rowIndex;return l.a.createElement("p",null,l.a.createElement("button",{className:"btn-edit",disabled:a.state.buttonProcessing,onClick:function(){return a.editEmployeeItem(r)}},l.a.createElement("i",{className:"fa fa-pencil"})," "),l.a.createElement("button",{className:"btn-delete",disabled:a.state.buttonProcessing,onClick:function(){window.confirm("Are you sure you wish to delete this employee?")&&a.deleteEmployeeItem(r)}},l.a.createElement("i",{className:"fa fa-trash"})))}}}],m={search:!0,viewColumns:!1,filter:!1,searchOpen:!1,print:!1,download:!0,responsive:"stacked",selectableRows:"none",textLabels:{body:{noMatch:this.props.dataTableLoadingStatus?"Processing........":"",toolTip:"Sort",columnHeaderTooltip:function(e){return"Sort for ".concat(e.label)}}},fixedHeaderOptions:{xAxis:!1,yAxis:!1}};return l.a.createElement(T.a,{title:"Company User",data:t,columns:c,options:m})}}]),t}(i.Component),Y=(t(654),t(402));function K(e){var a=e.organizationInfo;return l.a.createElement("option",{value:a.authId},a.organizationName)}var Q=[{path:"/admin/",exact:!0,name:"Admin"},{path:"/admin/dashboard",exact:!0,name:"Dashboard",component:y},{path:"/admin/master-case-type",exact:!0,name:"Master Case Type",component:q},{path:"/admin/master-threat-type",exact:!0,name:"Master Threat Type",component:W},{path:"/admin/organization",exact:!0,name:"Manage Company",component:M},{path:"/admin/organization/user",exact:!0,name:"Company User",component:function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).changeHandler=function(e){var a=e.target.name,t=e.target.value,n=r.state.formField;n[a]=t,r.setState({formField:n})},r.changeFilterHandler=function(e){var a=e.target.name,t=e.target.value,n=r.state.filterItem;n[a]=t,r.setState({filterItem:n})},r.toggle=function(){r.setState({modal:!r.state.modal,rowIndex:-1,formValid:!1,formProccessing:!1,formField:{email:"",firstName:"",lastName:"",phoneNumber:"",address:"",city:"",state:"",country:"",postalCode:"",role:""},errors:{email:"",employee_name:"",role:"",error:""}})},r.state={modal:!1,EmployeeList:[],organizationList:[],loading:!0,formProccessing:!1,rowIndex:-1,formField:{organizationId:"",email:"",firstName:"",lastName:"",phoneNumber:"",address:"",city:"",state:"",country:"",postalCode:"",role:"",status:""},errors:{email:"",employee_name:"",role:"",error:""},formValid:!0,filterItem:{filter_organization_id:"",country:"",state:"",custom_search:""}},r.handleEditEmployee=r.handleEditEmployee.bind(Object(b.a)(r)),r.submitHandler=r.submitHandler.bind(Object(b.a)(r)),r.handleDeleteEmployee=r.handleDeleteEmployee.bind(Object(b.a)(r)),r.filterEmployeeList=r.filterEmployeeList.bind(Object(b.a)(r)),r.resetSearchFilter=r.resetSearchFilter.bind(Object(b.a)(r)),r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=Y.parse(this.props.location.search);if(void 0!==e.organizationId){var a=this.state.filterItem;a.filter_organization_id=e.organizationId,this.setState({filterItem:a})}this.EmployeeList(this.state.filterItem),this.organizationList()}},{key:"EmployeeList",value:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="?roleType=company_user";void 0!==a.filter_organization_id&&""!==a.filter_organization_id&&(t+=""!==t?"&organizationId="+a.filter_organization_id:"?organizationId="+a.filter_organization_id),void 0!==a.custom_search&&""!==a.custom_search&&(t+=""!==t?"&keyword="+a.custom_search:"?keyword="+a.custom_search),this.setState({loading:!0},(function(){E.a.getAPIWithAccessToken("employee"+t).then((function(a){if(void 0===a.data.data||!a.data.status)return e.setState({loading:!1}),void m.b.error(a.data.message);e.setState({loading:!1,EmployeeList:a.data.data})})).catch((function(a){void 0!==a.response&&401===a.response.status?(localStorage.clear(),e.props.history.push("/login")):(e.setState({loading:!1}),m.b.error(a.message))}))}))}},{key:"organizationList",value:function(){var e=this;E.a.getAPIWithAccessToken("organization").then((function(a){if(void 0===a.data.data||!a.data.status)return e.setState({loading:!1}),void m.b.error(a.data.message);e.setState({loading:!1,organizationList:a.data.data})})).catch((function(a){void 0!==a.response&&401===a.response.status?(localStorage.clear(),e.props.history.push("/login")):e.setState({loading:!1})}))}},{key:"filterEmployeeList",value:function(){var e=this.state.filterItem;this.EmployeeList(e)}},{key:"submitHandler",value:function(e){var a=this;if(e.preventDefault(),e.target.className+=" was-validated",this.validateForm())return!1;this.setState({formProccessing:!0},(function(){var e=a.state.formField,t=E.a.getStatusVal(e.status),n={email:e.email,firstName:e.firstName,lastName:e.lastName,phoneNumber:e.phoneNumber,address:e.address,roleName:e.role,city:e.city,state:e.state,country:e.country,postalCode:e.postalCode,employeeName:e.firstName,organizationAuthId:e.organizationId,status:t,roleType:"company_user"},r=a.state.rowIndex;if(r>-1){var o=a.state.EmployeeList[r];E.a.putAPIWithAccessToken("employee/"+o.profileId,n).then((function(e){if(void 0===e.data.data||!e.data.status)return a.setState({formProccessing:!1}),void m.b.error(e.data.message);a.setState({modal:!1,formProccessing:!1}),m.b.success(e.data.message),a.EmployeeList(a.state.filterItem)})).catch((function(e){void 0!==e.response&&401===e.response.status?(localStorage.clear(),a.props.history.push("/login")):a.setState({formProccessing:!1}),m.b.error(e.message)}))}else E.a.postAPIWithAccessToken("employee",n).then((function(e){if(void 0===e.data.data||!e.data.status)return a.setState({formProccessing:!1}),void m.b.error(e.data.message);a.setState({modal:!1}),m.b.success(e.data.message),a.EmployeeList(a.state.filterItem)})).catch((function(e){void 0!==e.response&&401===e.response.status?(localStorage.clear(),a.props.history.push("/login")):a.setState({formProccessing:!1}),m.b.error(e.message)}))}))}},{key:"validateForm",value:function(){var e=!1,a=this.state.formField,t={},n=new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i);return void 0!==a.firstName&&""!==a.firstName.trim()||(e=!0,t.firstName="First name field required!"),void 0!==a.organizationId&&""!==a.organizationId.trim()||(e=!0,t.organizationId="Organization field required!"),void 0===a.email||""===a.email.trim()?(e=!0,t.email="Email field required!"):n.test(a.email)||(e=!0,t.email="Invalid email format"),void 0!==a.status&&""!==a.status.trim()||(e=!0,t.status="Status field required"),this.setState({errors:t}),e}},{key:"errorClass",value:function(e){return 0===e.length?"":"has-error"}},{key:"handleEditEmployee",value:function(e){var a,t=this.state.EmployeeList[e];a=E.a.getStatus(t.status);var n={organizationId:t.organizationAuthId,email:t.email,firstName:t.firstName,lastName:t.lastName,phoneNumber:t.phoneNumber,address:t.address,city:t.city,state:t.state,country:t.country,postalCode:t.postalCode,role:t.roleName,status:a};this.setState({rowIndex:e,formField:n,formProccessing:!1,modal:!0,formValid:!0})}},{key:"handleDeleteEmployee",value:function(e){var a=this,t=this.state.EmployeeList[e];this.setState({loading:!0},(function(){E.a.deleteAPIWithAccessToken("employee",{employeeId:t.profileId}).then((function(e){if(void 0===e.data.data||!e.data.status)return a.setState({loading:!1}),void m.b.error(e.data.message);a.setState({modal:!1,loading:!1}),m.b.success(e.data.message),a.EmployeeList()})).catch((function(e){void 0!==e.response&&401===e.response.status?(localStorage.clear(),a.props.history.push("/login")):a.setState({loading:!1}),m.b.error(e.message)}))}))}},{key:"resetSearchFilter",value:function(){this.setState({filterItem:{filter_organization_id:"",custom_search:""}}),this.EmployeeList()}},{key:"render",value:function(){var e=this.state,a=e.EmployeeList,t=e.loading,n=e.modal,r=e.formProccessing,o=e.organizationList,s=e.errors,i="";t&&(i=l.a.createElement(P.a,null));var c=l.a.createElement(l.a.Fragment,null,"Submit ",l.a.createElement("i",{className:"fa fa-spinner"}));return l.a.createElement("div",{className:"animated fadeIn"},l.a.createElement(f.a,null,i,l.a.createElement(p.a,{lg:12},l.a.createElement(N.a,{className:"oep-card"},l.a.createElement(S.a,{className:"mainHeading"},l.a.createElement("strong",null,"Company User List")," ",l.a.createElement(I.a,{color:"primary",className:"categoryAdd",type:"button",onClick:this.toggle},l.a.createElement("i",{className:"fa fa-plus"})," Add New")),l.a.createElement(C.a,null,l.a.createElement(f.a,null,l.a.createElement(p.a,{md:12},l.a.createElement(f.a,{className:"filterRow"},l.a.createElement(p.a,{md:"2",className:"pl-3"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"filter_organization_id"},"Organization"),l.a.createElement(F.a,{type:"select",placeholder:"Organization *",id:"filter_organization_id",name:"filter_organization_id",value:this.state.filterItem.filter_organization_id,onChange:this.changeFilterHandler},l.a.createElement("option",{value:""},"Select"),o.map((function(e,a){return l.a.createElement(K,{key:a,organizationInfo:e})}))))),l.a.createElement(p.a,{md:"3"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"filter_organization_id"},"Search By Email/ Name"),l.a.createElement(F.a,{type:"text",placeholder:"Search By Email/ Name",id:"custom_search",name:"custom_search",value:this.state.formField.custom_search,onChange:this.changeFilterHandler}))),l.a.createElement(p.a,{md:"1",className:"p-0"},l.a.createElement(z.a,null,l.a.createElement(k.a,null,"\xa0"),l.a.createElement("br",null),l.a.createElement(I.a,{color:"success",type:"button",size:"sm",onClick:this.filterEmployeeList},l.a.createElement("i",{className:"fa fa-search"})),"\xa0",l.a.createElement(I.a,{color:"danger",type:"reset",size:"sm",onClick:this.resetSearchFilter},l.a.createElement("i",{className:"fa fa-refresh"})))))),l.a.createElement(p.a,{md:12},l.a.createElement(J,{data:a,editEmployeeAction:this.handleEditEmployee,deleteEmployeeAction:this.handleDeleteEmployee,dataTableLoadingStatus:this.state.loading}))))))),l.a.createElement(O.a,{isOpen:n,toggle:this.toggle,className:"full-width-modal-section employee-modal"},l.a.createElement(L.a,{toggle:this.toggle},"Company User"),l.a.createElement(w.a,{onSubmit:this.submitHandler,noValidate:!0},l.a.createElement(A.a,null,l.a.createElement(f.a,null,l.a.createElement(p.a,{md:"6"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"organizationId"},"Organization Name"),l.a.createElement(F.a,{type:"select",placeholder:"Organization Name *",id:"organizationId",name:"organizationId",value:this.state.formField.organizationId,onChange:this.changeHandler,required:!0},l.a.createElement("option",{value:""},"Select"),o.map((function(e,a){return l.a.createElement(K,{key:a,organizationInfo:e})}))),l.a.createElement("div",{className:"invalid-feedback"},s.organizationId))),l.a.createElement(p.a,{md:"6"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"firstName"},"First Name"),l.a.createElement(F.a,{type:"text",placeholder:"First Person *",id:"firstName",name:"firstName",value:this.state.formField.firstName,onChange:this.changeHandler,required:!0}),l.a.createElement("div",{className:"invalid-feedback"},s.firstName))),l.a.createElement(p.a,{md:"6"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"lastName"},"Last Name"),l.a.createElement(F.a,{type:"text",placeholder:"Last Person",id:"lastName",name:"lastName",value:this.state.formField.lastName,onChange:this.changeHandler}))),l.a.createElement(p.a,{md:"6"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"email"},"Email"),l.a.createElement(F.a,{type:"text",placeholder:"Email *",id:"email",name:"email",value:this.state.formField.email,onChange:this.changeHandler,required:!0}),l.a.createElement("div",{className:"invalid-feedback"},s.email))),l.a.createElement(p.a,{md:"6"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"roleName"},"Role"),l.a.createElement(F.a,{type:"text",placeholder:"Role",id:"roleName",name:"roleName",value:this.state.formField.roleName,onChange:this.changeHandler}))),l.a.createElement(p.a,{md:"6"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"phoneNumber"},"Phone Number"),l.a.createElement(F.a,{type:"number",placeholder:"Phone Number",id:"phoneNumber",name:"phoneNumber",value:this.state.formField.phoneNumber,onChange:this.changeHandler}))),l.a.createElement(p.a,{md:"6"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"address"},"Street Address "),l.a.createElement(F.a,{type:"text",placeholder:"Street Address",id:"address",name:"address",value:this.state.formField.address,onChange:this.changeHandler}))),l.a.createElement(p.a,{md:"6"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"city"},"City "),l.a.createElement(F.a,{type:"text",placeholder:"City",id:"city",name:"city",value:this.state.formField.city,onChange:this.changeHandler}))),l.a.createElement(p.a,{md:"6"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"state"},"State"),l.a.createElement(F.a,{type:"text",placeholder:"State",id:"state",name:"state",value:this.state.formField.state,onChange:this.changeHandler}))),l.a.createElement(p.a,{md:"6"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"postalCode"},"Postal Code "),l.a.createElement(F.a,{type:"text",placeholder:"Postal Code",id:"postalCode",name:"postalCode",value:this.state.formField.postalCode,onChange:this.changeHandler}))),l.a.createElement(p.a,{md:"6"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"country"},"Country "),l.a.createElement(F.a,{type:"text",placeholder:"Country",id:"country",name:"country",value:this.state.formField.country,onChange:this.changeHandler}))),l.a.createElement(p.a,{md:"6"},l.a.createElement(z.a,null,l.a.createElement(k.a,{htmlFor:"template_status"},"Status"),l.a.createElement(F.a,{type:"select",placeholder:"Status *",invalid:void 0!==s.status&&""!==s.status,id:"status",name:"status",value:this.state.formField.status,onChange:this.changeHandler,required:!0},l.a.createElement("option",{value:""},"Select Status"),l.a.createElement("option",{value:"Active"},"Active"),l.a.createElement("option",{value:"Inactive"},"Inactive")),l.a.createElement("div",{className:"invalid-feedback"},s.status))))),l.a.createElement(_.a,null,l.a.createElement(I.a,{color:"primary",disabled:r,type:"submit"},r?c:"Submit"),l.a.createElement(I.a,{color:"secondary",onClick:this.toggle},"Cancel")))))}}]),t}(i.Component)},{path:"/admin/organization/employee",exact:!0,name:"Company Employee User",component:G}],X=(t(655),t(87)),Z=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(){return Object(n.a)(this,t),a.apply(this,arguments)}return Object(r.a)(t,[{key:"render",value:function(){var e=this.props;e.children,Object(X.a)(e,["children"]);return l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null,"Copyright  \xa9 ",(new Date).getFullYear()," VirDrop. All Rights Reserved."),l.a.createElement("span",{className:"ml-auto"},"Powered by ",l.a.createElement("a",{href:"https://www.niletechnologies.com/",rel:"noopener noreferrer",target:"_blank"},"Nile Technologies"),"."))}}]),t}(i.Component);Z.defaultProps={};var ee=Z,ae=t(685),te=t(686),ne=t(693),re=t(692),oe=t(683),se=(t(656),function(e){var a=E.a.getLocalStorageValue("userName").split(" "),t=a.slice(0,1).join(" "),n=a.slice(1,a.length).join(" ");return l.a.createElement("div",{className:"profileImage"},t.substring(0,1)+""+n.substring(0,1))}),ie=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(){return Object(n.a)(this,t),a.apply(this,arguments)}return Object(r.a)(t,[{key:"render",value:function(){var e=this,a=this.props;a.children,Object(X.a)(a,["children"]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(g.l,{className:"d-lg-none",display:"md",mobile:!0}),l.a.createElement(g.e,{full:{src:"".concat("","/logo.png"),width:88,height:40,alt:"Incursus Logo"},minimized:{src:"".concat("","/logo.png"),width:30,height:30,alt:"Incursus Logo"}}),l.a.createElement(g.l,{className:"d-md-down-none",display:"lg"}),l.a.createElement(ae.a,{className:"ml-auto",navbar:!0},l.a.createElement(te.a,{nav:!0,direction:"down"},l.a.createElement(ne.a,{nav:!0},l.a.createElement("div",{className:"admin-avatar"},l.a.createElement(se,null)),l.a.createElement("span",{className:"admin-profile-username"},E.a.getLocalStorageValue("userName")," ",l.a.createElement("span",{className:"caret"}))),l.a.createElement(re.a,{right:!0},l.a.createElement(oe.a,{header:!0,tag:"div",className:"text-center"},l.a.createElement("strong",null,"My Account")),l.a.createElement(oe.a,null,l.a.createElement(d.Link,{to:"/admin/dashboard",className:"profileDropDownLink"},l.a.createElement("i",{className:"fa fa-dashboard"})," Dashboard")),l.a.createElement(oe.a,null,l.a.createElement(d.Link,{to:"/admin/change-password",className:"profileDropDownLink"},l.a.createElement("i",{className:"fa fa-lock"})," Change Password")),l.a.createElement(oe.a,{onClick:function(a){return e.props.onLogout(a)}},l.a.createElement("i",{className:"fa fa-sign-out"})," Logout")))))}}]),t}(i.Component);ie.defaultProps={};var le=ie,ce=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=a.call.apply(a,[this].concat(o))).loading=function(){return l.a.createElement("div",{className:"animated fadeIn pt-1 text-center"},"Loading...")},e}return Object(r.a)(t,[{key:"signOut",value:function(e){e.preventDefault(),localStorage.clear(),this.props.history.push("/login")}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"app dashboard-template"},l.a.createElement(g.d,{fixed:!0},l.a.createElement(i.Suspense,{fallback:this.loading()},l.a.createElement(le,{onLogout:function(a){return e.signOut(a)}}))),l.a.createElement("div",{className:"app-body admin-panel"},l.a.createElement(g.f,{fixed:!0,display:"lg"},l.a.createElement(g.i,null),l.a.createElement(g.h,null),l.a.createElement(i.Suspense,null,l.a.createElement(g.k,Object.assign({navConfig:h},this.props,{router:d}))),l.a.createElement(g.g,null),l.a.createElement(g.j,null)),l.a.createElement("main",{className:"main"},l.a.createElement(g.b,{appRoutes:Q,router:d}),l.a.createElement(u.a,{fluid:!0},l.a.createElement(m.a,null),l.a.createElement(i.Suspense,{fallback:this.loading()},l.a.createElement(c.g,null,Q.map((function(e,a){return e.component?l.a.createElement(c.d,{key:a,path:e.path,exact:e.exact,name:e.name,render:function(a){return l.a.createElement(e.component,a)}}):null})),l.a.createElement(c.c,{from:"/admin",to:"/admin/dashboard"}))))),l.a.createElement(g.a,{fixed:!0},l.a.createElement(i.Suspense,{fallback:this.loading()}))),l.a.createElement(g.c,null,l.a.createElement(i.Suspense,{fallback:this.loading()},l.a.createElement(ee,null))))}}]),t}(i.Component);a.default=ce}}]);
//# sourceMappingURL=5.afc41ccc.chunk.js.map