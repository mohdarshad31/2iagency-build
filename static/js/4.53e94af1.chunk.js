(this.webpackJsonp2iagency=this.webpackJsonp2iagency||[]).push([[4],{600:function(e,a,t){},601:function(e,a,t){},602:function(e,a,t){},603:function(e,a,t){},622:function(e,a,t){},624:function(e,a,t){},625:function(e,a,t){},628:function(e,a,t){},629:function(e,a,t){},630:function(e,a,t){},631:function(e,a,t){},650:function(e,a,t){},651:function(e,a,t){},702:function(e,a,t){"use strict";t.r(a);var n=t(24),r=t(25),s=t(29),l=t(28),o=t(1),i=t.n(o),c=t(10),m=t(335),d=t(20),u=t(336),h=t(14),g=t(52),p=(t(600),function(e){Object(s.a)(t,e);var a=Object(l.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).loading=function(){return i.a.createElement("div",{className:"animated fadeIn pt-1 text-center"},"Loading...")},r.state={loading:!1,dashBoardStats:{totalEmployeeUser:0,totalCompanyUser:0,totalCases:0,totalNewCases:0,totalInProgressCases:0,totalClosedCases:0}},r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){this.dashboardData({})}},{key:"dashboardData",value:function(){var e=this;h.a.getAPIWithAccessToken("dashboard").then((function(a){if(void 0!==a.data.data&&a.data.status){var t=a.data.data;e.setState({loading:!1,dashBoardStats:t})}else e.setState({loading:!1})}))}},{key:"render",value:function(){var e="";return this.state.loading&&(e=i.a.createElement(g.a,null)),i.a.createElement("div",{className:"dashboard-section container dashboard-overview vd-card card mt-4"},e,i.a.createElement(u.a,null),i.a.createElement("div",{class:"row"},i.a.createElement("div",{class:"col-lg-12"},i.a.createElement("div",{class:"user-H"},i.a.createElement("h5",null,"User Overview"),i.a.createElement("hr",null))),i.a.createElement("div",{class:"col-lg-4 col-md-6 col-sm-6"},i.a.createElement("div",{class:"card card-stats"},i.a.createElement("div",{class:"card-header card-header-warning card-header-icon"},i.a.createElement("div",{class:"card-icon"},i.a.createElement("i",{class:"fa fa-user"})),i.a.createElement("p",{class:"card-category"},"Total Employee User"),i.a.createElement("h3",{class:"card-title"},this.state.dashBoardStats.totalEmployeeUser)))),i.a.createElement("div",{class:"col-lg-4 col-md-6 col-sm-6"},i.a.createElement("div",{class:"card card-stats"},i.a.createElement("div",{class:"card-header card-header-success card-header-icon"},i.a.createElement("div",{class:"card-icon"},i.a.createElement("i",{class:"fa fa-group"})),i.a.createElement("p",{class:"card-category"},"Total Company user"),i.a.createElement("h3",{class:"card-title"},this.state.dashBoardStats.totalCompanyUser))))),i.a.createElement("div",{class:"row mt-5"},i.a.createElement("div",{class:"col-lg-12"},i.a.createElement("div",{class:"cases-H"},i.a.createElement("h5",null,"Cases Overview"),i.a.createElement("hr",null))),i.a.createElement("div",{class:"col-lg-4 col-md-6 col-sm-6"},i.a.createElement("div",{class:"card card-stats"},i.a.createElement("div",{class:"card-header card-header-info card-header-icon"},i.a.createElement("div",{class:"card-icon"},i.a.createElement("i",{class:"fa fa-file-text","aria-hidden":"true"})),i.a.createElement("p",{class:"card-category"},"Total registered cases"),i.a.createElement("h3",{class:"card-title"},this.state.dashBoardStats.totalCases)))),i.a.createElement("div",{class:"col-lg-4 col-md-6 col-sm-6 "},i.a.createElement("div",{class:"card card-stats"},i.a.createElement("div",{class:"card-header card-header-info-closed card-header-icon"},i.a.createElement("div",{class:"card-icon"},i.a.createElement("i",{class:"fa fa-file-text","aria-hidden":"true"})),i.a.createElement("p",{class:"card-category"},"Closed cases"),i.a.createElement("h3",{class:"card-title"},this.state.dashBoardStats.totalClosedCases)))),i.a.createElement("div",{class:"col-lg-4 col-md-6 col-sm-6 "},i.a.createElement("div",{class:"card card-stats"},i.a.createElement("div",{class:"card-header card-header-info-pending card-header-icon"},i.a.createElement("div",{class:"card-icon"},i.a.createElement("i",{class:"fa fa-file-text","aria-hidden":"true"})),i.a.createElement("p",{class:"card-category"}," Investigation Inprogress Cases"),i.a.createElement("h3",{class:"card-title"},this.state.dashBoardStats.totalInProgressCases)))),i.a.createElement("div",{class:"col-lg-4 col-md-6 col-sm-6 mt-5"},i.a.createElement("div",{class:"card card-stats"},i.a.createElement("div",{class:"card-header card-header-info-NewCases card-header-icon"},i.a.createElement("div",{class:"card-icon"},i.a.createElement("i",{class:"fa fa-file-text","aria-hidden":"true"})),i.a.createElement("p",{class:"card-category"},"New Cases"),i.a.createElement("h3",{class:"card-title"},this.state.dashBoardStats.totalNewCases))))))}}]),t}(o.Component)),E=t(93),f=t(674),v=t(675),y=t(676),b=t(339),N=t(337),I=t(341),S=t(342),C=t(333),w=t(343),P=(t(92),t(601),function(e){var a=e.formErrors;return i.a.createElement("div",{className:"formErrors"},Object.keys(a).map((function(e,t){if(a[e].length>0){var n=e.replace("_"," ");return i.a.createElement("p",{key:t},n," ",a[e])}return""})))}),k=(t(602),function(e){Object(s.a)(t,e);var a=Object(l.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).changeHandler=function(e){var a=e.target.name,t=e.target.value,n=r.state.formField;n[a]=t,r.setState({formField:n}),console.log(r.state.formValid)},r.onProfilePicChange=function(e){if(e.target.files.length>0){var a=e.target.files[0];if(!a)return r.setState({invalidImage:"Please select image."}),!1;if(!a.name.match(/\.(jpg|jpeg|png|gif)$/))return r.setState({invalidImage:"Please select valid image."}),!1;r.setState({loading:!0},(function(){var e=new FormData;e.append("profileImage",a),e.append("profileId",r.state.organizationId),h.a.putAPIWithAccessToken("profile/picture",e).then((function(e){if(void 0===e.data.data||!e.data.status)return r.setState({loading:!1}),void d.b.error(e.data.message);r.setState({loading:!1}),d.b.success(e.data.message),r.getProfile()})).catch((function(e){void 0!==e.response&&401===e.response.status?(localStorage.clear(),r.props.history.push("/login")):r.setState({loading:!1}),d.b.error(e.message)}))}))}},r.copyToClipboard=function(e){var a=document.createElement("textarea");a.setAttribute("readonly","readonly"),a.value=h.a.getWebUrl()+"sign-up/"+h.a.encryptAffiliateCode(r.state.accountId).toLowerCase(),a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a),d.b.success("Copied to clipboard")},r.state={formField:{organizationName:"",email:"",firstName:"",lastName:"",mobileNumber:"",phoneNumber:"",address:"",address2:"",city:"",state:"",postalCode:"",country:"",profilePic:""},formErrors:{organization_name:"",email:"",firstName:"",lastName:"",mobileNumber:"",phoneNumber:"",address:"",city:"",state:"",postalCode:"",country:"",error:""},formValid:!0,organizationId:"",invalidImage:"",loading:!0,accountId:""},r.submitHandler=r.submitHandler.bind(Object(E.a)(r)),r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){this.getProfile()}},{key:"getProfile",value:function(){var e=this;this.setState({loading:!0},(function(){h.a.getAPIWithAccessToken("profile").then((function(a){if(void 0===a.data.data||!a.data.status)return e.setState({loading:!1}),void d.b.error(a.data.message);console.log(a.data);var t=a.data.data,n={organizationName:t.organizationName,email:t.email,firstName:t.firstName,lastName:t.lastName,phoneNumber:t.phoneNumber,mobileNumber:t.mobileNumber,address:t.address,address2:t.address2,profilePic:t.profilePic,city:t.city,state:t.state,country:t.country,postalCode:t.postalCode};""!==t.profilePic&&localStorage.setItem("profilePic",t.profilePic),e.setState({loading:!1,accountId:t.organizationCode,organizationDocuments:t.documents,formField:n,formValid:!0,organizationId:t.organizationId})})).catch((function(a){void 0!==a.response&&401===a.response.status?(localStorage.clear(),e.props.history.push("/login")):e.setState({loading:!1}),d.b.error(a.message)}))}))}},{key:"submitHandler",value:function(e){var a=this;if(e.preventDefault(),e.target.className+=" was-validated",this.validateForm())return!1;this.setState({loading:!0},(function(){var e=a.state.formField,t={email:e.email,profileId:a.state.organizationId,firstName:e.firstName,lastName:e.lastName,mobileNumber:e.mobileNumber,phoneNumber:e.phoneNumber,organizationName:e.organizationName,address:e.address,address2:e.address2,city:e.city,state:e.state,postalCode:e.postalCode,country:e.country};h.a.putAPIWithAccessToken("profile",t).then((function(t){if(void 0===t.data.data||!t.data.status)return a.setState({loading:!1}),void d.b.error(t.data.message);a.setState({loading:!1}),localStorage.setItem("userName",e.firstName+" "+e.lastName),d.b.success(t.data.message)})).catch((function(e){void 0!==e.response&&401===e.response.status?(localStorage.clear(),a.props.history.push("/login")):a.setState({loading:!1}),d.b.error(e.message)}))}))}},{key:"validateForm",value:function(){var e=!1,a=this.state.formField,t={},n=new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i);return void 0!==a.firstName&&""!==a.firstName.trim()||(e=!0,t.firstName="First name field required!"),void 0!==a.organizationName&&""!==a.organizationName.trim()||(e=!0,t.organizationName="Organization field required!"),void 0===a.email||""===a.email.trim()?(e=!0,t.email="Email field required!"):n.test(a.email)||(e=!0,t.email="Invalid email format"),this.setState({errors:t}),e}},{key:"errorClass",value:function(e){return 0===e.length?"":"has-error"}},{key:"render",value:function(){var e=this.state,a=e.loading,t=e.invalidImage,n="";return a&&(n=i.a.createElement(g.a,null)),i.a.createElement("div",{className:"dashboard-section"},i.a.createElement(d.a,null),n,i.a.createElement(f.a,{className:"vd-card"},i.a.createElement(v.a,null,i.a.createElement("div",{className:"d-flex align-items-center"},i.a.createElement("div",{className:"mr-auto"},i.a.createElement("h4",{className:"card-title"},i.a.createElement("img",{src:"/images/account.svg",height:"30",alt:""})," My Profile")))),i.a.createElement(y.a,null,i.a.createElement(P,{formErrors:this.state.formErrors}),i.a.createElement(b.a,{className:"profile-form",onSubmit:this.submitHandler,noValidate:!0},i.a.createElement("div",{className:"row"},i.a.createElement(N.a,{md:12},i.a.createElement(I.a,null,i.a.createElement(S.a,{htmlFor:"accountId"},"ID: ",this.state.accountId),document.queryCommandSupported("copy")&&this.state.accountId&&i.a.createElement(C.a,{className:"Update-btn",onClick:this.copyToClipboard},"Copy to clipboard"))),i.a.createElement("div",{className:"col-md-6"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:"firstName"},"First Name *"),i.a.createElement("input",{type:"text",name:"firstName",id:"firstName",className:"form-control",placeholder:"First Name",value:this.state.formField.firstName,onChange:this.changeHandler,required:!0})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:"lastName"},"Last Name *"),i.a.createElement("input",{type:"text",name:"lastName",id:"lastName",className:"form-control",placeholder:"Last Name",value:this.state.formField.lastName,onChange:this.changeHandler,required:!0}))),i.a.createElement("div",{className:"col-md-6"},i.a.createElement(u.a,null,i.a.createElement(N.a,{md:"4"},i.a.createElement("img",{src:""!==this.state.formField.profilePic?this.state.formField.profilePic:"/images/profile_image_dummy.svg",height:"100",className:"img-fluid img-thumbnail",alt:"Profile"})),i.a.createElement(N.a,{md:"6"},i.a.createElement(I.a,null,i.a.createElement("label",{htmlFor:"profilePic"},"Profile Picture"),i.a.createElement("input",{type:"file",id:"profilePic",className:"form-control",onChange:this.onProfilePicChange}),i.a.createElement("small",null,"The picture you upload here will be used as your Profile image on the Mobile app which the customer can view"),t&&i.a.createElement("p",{className:"text-danger"},t))))),i.a.createElement("div",{className:"col-md-6"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:"email"},"Email address *"),i.a.createElement("input",{type:"text",readOnly:!0,name:"email",id:"email",className:"form-control",placeholder:"Email address",value:this.state.formField.email,disabled:!0,required:!0}))),i.a.createElement(N.a,{md:"6"},i.a.createElement(I.a,null,i.a.createElement(S.a,{htmlFor:"organizationName"},"Organization Name *"),i.a.createElement("input",{type:"text",name:"organizationName",className:"form-control",placeholder:"Organization Name",value:this.state.formField.organizationName,onChange:this.changeHandler}))),i.a.createElement("div",{className:"col-md-6"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:"phoneNumber"},"Phone no. "),i.a.createElement("input",{type:"text",name:"phoneNumber",id:"phoneNumber",className:"form-control",placeholder:"Phone No.",value:this.state.formField.phoneNumber,onChange:this.changeHandler}))),i.a.createElement(N.a,{md:"6"},i.a.createElement(I.a,null,i.a.createElement(S.a,{htmlFor:"address"},"Street Address"),i.a.createElement(w.a,{type:"text",placeholder:"Address",id:"address",className:"form-control",name:"address",value:this.state.formField.address,onChange:this.changeHandler}))),i.a.createElement(N.a,{md:"6"},i.a.createElement(I.a,null,i.a.createElement(S.a,{htmlFor:"city"},"City "),i.a.createElement(w.a,{type:"text",placeholder:"City",id:"city",className:"form-control",name:"city",value:this.state.formField.city,onChange:this.changeHandler}))),i.a.createElement(N.a,{md:"6"},i.a.createElement(I.a,null,i.a.createElement(S.a,{htmlFor:"state"},"State "),i.a.createElement(w.a,{type:"text",placeholder:"State",id:"state",className:"form-control",name:"state",value:this.state.formField.state,onChange:this.changeHandler}))),i.a.createElement(N.a,{md:"6"},i.a.createElement(I.a,null,i.a.createElement(S.a,{htmlFor:"postalCode"},"Postal Code "),i.a.createElement(w.a,{type:"text",placeholder:"Postal Code",id:"postalCode",className:"form-control",name:"postalCode",value:this.state.formField.postalCode,onChange:this.changeHandler}))),i.a.createElement(N.a,{md:"6"},i.a.createElement(I.a,null,i.a.createElement(S.a,{htmlFor:"country"},"Country "),i.a.createElement(w.a,{type:"text",placeholder:"Country",id:"country",className:"form-control",name:"country",value:this.state.formField.country,onChange:this.changeHandler}))),i.a.createElement(N.a,{md:"12"},i.a.createElement("div",{className:"form-group pull-right"},i.a.createElement(C.a,{color:"primary",className:"btn btn-primary btn-lg",type:"submit"},"Update Profile"))))))))}}]),t}(o.Component)),_=t(344),F=(t(603),function(e){Object(s.a)(t,e);var a=Object(l.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).changeHandler=function(e){var a=e.target.name,t=e.target.value,n=r.state.formField;n[a]=t,r.setState({formField:n},(function(){r.validateField(a,t)}))},r.state={formField:{oldPassword:"",newPassword:"",confirmPassword:""},formErrors:{oldPassword:"",newPassword:"",confirmPassword:"",error:""},formValid:!1,errors:{},loading:!1},r.submitHandler=r.submitHandler.bind(Object(E.a)(r)),r.changeHandler=r.changeHandler.bind(Object(E.a)(r)),r}return Object(r.a)(t,[{key:"submitHandler",value:function(e){var a=this;e.preventDefault(),e.target.className+=" was-validated",this.validateForm()?this.setState({loading:!0},(function(){var e=a.state.formField,t={oldPassword:e.oldPassword,newPassword:e.newPassword};h.a.postAPIWithAccessToken("auth/change-password",t).then((function(e){if(void 0!==e.data.data&&e.data.status)localStorage.clear(),a.props.history.push("/login"),d.b.success(e.data.message);else{if(a.setState({loading:!1}),"Old password is incorrect!"===e.data.message){var t=a.state.formErrors;t.oldPassword=e.data.message,a.setState({formErrors:t})}d.b.error(e.data.message)}})).catch((function(e){void 0!==e.response&&401===e.response.status?(localStorage.clear(),a.props.history.push("/login")):(a.setState({loading:!1}),d.b.error(e.message))}))})):console.log("Outside validation")}},{key:"validateField",value:function(e,a){var t=this.state.formErrors;switch(t.error="",e){case"oldPassword":t.oldPassword=""!==a?"":" This field is required";break;case"newPassword":t.newPassword=""!==a?"":" This field is required";break;case"confirmPassword":t.confirmPassword=""!==a?"":" This field is required",a!==this.state.formField.newPassword&&(t.confirmPassword="*Passwords and confirm-password do not match.")}this.setState({formErrors:t},this.validateFeildError)}},{key:"validateFeildError",value:function(){var e=this.state.formErrors,a=this.state.formField;return this.setState({formValid:""===e.oldPassword&&""===e.newPassword&&""===e.confirmPassword&&""!==a.oldPassword&&""!==a.newPassword&&""!==a.confirmPassword}),!0}},{key:"validateForm",value:function(){var e=this.state.formErrors,a=!0,t=this.state.formField;return t.oldPassword||(a=!1,e.oldPassword="*Please enter your old password."),t.newPassword||(a=!1,e.newPassword="*Please enter your password."),t.confirmPassword||(a=!1,e.confirmPassword="*Please re-enter your password."),t.confirmPassword!==t.newPassword&&(a=!1,e.confirmPassword="*Passwords and confirm-password do not match."),this.setState({loading:!1,formErrors:e}),console.log(e),a}},{key:"errorClass",value:function(e){return 0===e.length?"":"has-error"}},{key:"render",value:function(){var e=this.state,a=e.loading,t=e.formErrors,n="";return a&&(n=i.a.createElement(g.a,null)),i.a.createElement("div",{className:"dashboard-section"},i.a.createElement(d.a,null),n,i.a.createElement(f.a,{className:"vd-card"},i.a.createElement(v.a,null,i.a.createElement("div",{className:"d-flex align-items-center"},i.a.createElement("div",{className:"mr-auto"},i.a.createElement("h4",{className:"card-title"}," Change Password")))),i.a.createElement(y.a,null,i.a.createElement(b.a,{className:"profile-form",onSubmit:this.submitHandler,noValidate:!0},i.a.createElement(u.a,null,i.a.createElement(N.a,{md:"6"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:"oldPassword"},"Old Password"),i.a.createElement(w.a,{type:"password",name:"oldPassword",id:"oldPassword",placeholder:"Old Password",value:this.state.formField.oldPassword,onChange:this.changeHandler,invalid:void 0!==t.oldPassword&&""!==t.oldPassword,required:!0}),i.a.createElement(_.a,null,t.oldPassword)))),i.a.createElement(u.a,null,i.a.createElement(N.a,{md:"6"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:"newPassword"},"New Password"),i.a.createElement(w.a,{type:"password",name:"newPassword",id:"newPassword",placeholder:"New Password",value:this.state.formField.newPassword,onChange:this.changeHandler,invalid:void 0!==t.newPassword&&""!==t.newPassword,required:!0}),i.a.createElement(_.a,null,t.newPassword)))),i.a.createElement(u.a,null,i.a.createElement(N.a,{md:"6"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:"confirmPassword"},"Confirm Password"),i.a.createElement(w.a,{type:"password",name:"confirmPassword",id:"confirmPassword",placeholder:"Confirm Password",value:this.state.formField.confirmPassword,onChange:this.changeHandler,invalid:void 0!==t.confirmPassword&&""!==t.confirmPassword,required:!0}),i.a.createElement(_.a,null,t.confirmPassword)))),i.a.createElement(u.a,null,i.a.createElement(N.a,{md:"3"},i.a.createElement("div",{className:"form-group"},i.a.createElement("button",{type:"submit",disabled:!this.state.formValid,className:"Submit-form-button btn btn-primary"},"Change Password"))))))))}}]),t}(o.Component)),x=t(346),A=t(338),O=t(340),L=t(345),z=t(367),T=t(364),j=t(365),D=t.n(j),H=function(e){Object(s.a)(t,e);var a=Object(l.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).state={buttonProcessing:!1,rowIndex:"",dataTableItem:[]},r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"editEmployeeItem",value:function(e){this.props.editEmployeeAction(e)}},{key:"deleteEmployeeItem",value:function(e){this.props.deleteEmployeeAction(e)}},{key:"render",value:function(){var e,a=this,t=[],n=Object(T.a)(this.props.data.entries());try{for(n.s();!(e=n.n()).done;){var r=Object(z.a)(e.value,2),s=r[0],l=r[1];console.log(s);var o={organizationName:l.organizationName,firstName:"".concat(l.firstName," ").concat(l.lastName),email:l.email,roleName:l.roleName||" ",phoneNumber:l.phoneNumber||" ",address:l.address||" ",city:l.city||" ",state:l.state||" ",country:l.country||" ",status:h.a.getStatus(l.status),action:""};t.push(o)}}catch(d){n.e(d)}finally{n.f()}var c=[{label:"User Name",name:"firstName"},{label:"Email",name:"email"},{label:"Phone Number",name:"phoneNumber"},{label:"Status",name:"status"},{label:"Action",name:"action",options:{filter:!0,customBodyRender:function(e,t,n){var r=t.rowIndex;return i.a.createElement("p",null,i.a.createElement("button",{className:"btn-edit",disabled:a.state.buttonProcessing,onClick:function(){return a.editEmployeeItem(r)}},i.a.createElement("i",{className:"fa fa-pencil"})," "),i.a.createElement("button",{className:"btn-delete",disabled:a.state.buttonProcessing,onClick:function(){window.confirm("Are you sure you wish to delete this employee?")&&a.deleteEmployeeItem(r)}},i.a.createElement("i",{className:"fa fa-trash"})))}}}],m={search:!0,viewColumns:!1,filter:!1,searchOpen:!1,print:!1,download:!0,responsive:"stacked",selectableRows:"none",textLabels:{body:{noMatch:this.props.dataTableLoadingStatus?"Processing........":"",toolTip:"Sort",columnHeaderTooltip:function(e){return"Sort for ".concat(e.label)}}},fixedHeaderOptions:{xAxis:!1,yAxis:!1}};return i.a.createElement(D.a,{title:"Company User",data:t,columns:c,options:m})}}]),t}(o.Component),R=(t(622),t(380)),U=function(e){Object(s.a)(t,e);var a=Object(l.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).changeHandler=function(e){var a=e.target.name,t=e.target.value,n=r.state.formField;n[a]=t,r.setState({formField:n})},r.changeFilterHandler=function(e){var a=e.target.name,t=e.target.value,n=r.state.filterItem;n[a]=t,r.setState({filterItem:n})},r.toggle=function(){r.setState({modal:!r.state.modal,rowIndex:-1,formValid:!1,formProccessing:!1,formField:{email:"",firstName:"",lastName:"",phoneNumber:"",address:"",city:"",state:"",country:"",postalCode:"",role:""},errors:{email:"",employee_name:"",role:"",error:""}})},r.state={modal:!1,EmployeeList:[],organizationList:[],loading:!0,formProccessing:!1,rowIndex:-1,formField:{organizationId:"",email:"",firstName:"",lastName:"",phoneNumber:"",address:"",city:"",state:"",country:"",postalCode:"",role:"",status:""},errors:{email:"",employee_name:"",role:"",error:""},formValid:!0,filterItem:{filter_organization_id:"",country:"",state:"",custom_search:""}},r.handleEditEmployee=r.handleEditEmployee.bind(Object(E.a)(r)),r.submitHandler=r.submitHandler.bind(Object(E.a)(r)),r.handleDeleteEmployee=r.handleDeleteEmployee.bind(Object(E.a)(r)),r.filterEmployeeList=r.filterEmployeeList.bind(Object(E.a)(r)),r.resetSearchFilter=r.resetSearchFilter.bind(Object(E.a)(r)),r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=R.parse(this.props.location.search);if(void 0!==e.organizationId){var a=this.state.filterItem;a.filter_organization_id=e.organizationId,this.setState({filterItem:a})}this.EmployeeList(this.state.filterItem)}},{key:"EmployeeList",value:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="?roleType=company_user";void 0!==a.filter_organization_id&&""!==a.filter_organization_id&&(t+=""!==t?"&organizationId="+a.filter_organization_id:"?organizationId="+a.filter_organization_id),void 0!==a.custom_search&&""!==a.custom_search&&(t+=""!==t?"&keyword="+a.custom_search:"?keyword="+a.custom_search),this.setState({loading:!0},(function(){h.a.getAPIWithAccessToken("employee"+t).then((function(a){if(void 0===a.data.data||!a.data.status)return e.setState({loading:!1}),void d.b.error(a.data.message);e.setState({loading:!1,EmployeeList:a.data.data})})).catch((function(a){void 0!==a.response&&401===a.response.status?(localStorage.clear(),e.props.history.push("/login")):(e.setState({loading:!1}),d.b.error(a.message))}))}))}},{key:"filterEmployeeList",value:function(){var e=this.state.filterItem;this.EmployeeList(e)}},{key:"submitHandler",value:function(e){var a=this;if(e.preventDefault(),e.target.className+=" was-validated",this.validateForm())return!1;this.setState({formProccessing:!0},(function(){var e=a.state.formField,t=h.a.getStatusVal(e.status),n={email:e.email,firstName:e.firstName,lastName:e.lastName,phoneNumber:e.phoneNumber,address:e.address,roleName:e.role,city:e.city,state:e.state,country:e.country,postalCode:e.postalCode,employeeName:e.firstName,status:t,roleType:"company_user"},r=a.state.rowIndex;if(r>-1){var s=a.state.EmployeeList[r];h.a.putAPIWithAccessToken("employee/"+s.profileId,n).then((function(e){if(void 0===e.data.data||!e.data.status)return a.setState({formProccessing:!1}),void d.b.error(e.data.message);a.setState({modal:!1,formProccessing:!1}),d.b.success(e.data.message),a.EmployeeList(a.state.filterItem)})).catch((function(e){void 0!==e.response&&401===e.response.status?(localStorage.clear(),a.props.history.push("/login")):a.setState({formProccessing:!1}),d.b.error(e.message)}))}else h.a.postAPIWithAccessToken("employee",n).then((function(e){if(void 0===e.data.data||!e.data.status)return a.setState({formProccessing:!1}),void d.b.error(e.data.message);a.setState({modal:!1}),d.b.success(e.data.message),a.EmployeeList(a.state.filterItem)})).catch((function(e){void 0!==e.response&&401===e.response.status?(localStorage.clear(),a.props.history.push("/login")):a.setState({formProccessing:!1}),d.b.error(e.message)}))}))}},{key:"validateForm",value:function(){var e=!1,a=this.state.formField,t={},n=new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i);return void 0!==a.firstName&&""!==a.firstName.trim()||(e=!0,t.firstName="First name field required!"),void 0===a.email||""===a.email.trim()?(e=!0,t.email="Email field required!"):n.test(a.email)||(e=!0,t.email="Invalid email format"),void 0!==a.status&&""!==a.status.trim()||(e=!0,t.status="Status field required"),this.setState({errors:t}),e}},{key:"errorClass",value:function(e){return 0===e.length?"":"has-error"}},{key:"handleEditEmployee",value:function(e){var a,t=this.state.EmployeeList[e];a=h.a.getStatus(t.status);var n={organizationId:t.organizationAuthId,email:t.email,firstName:t.firstName,lastName:t.lastName,phoneNumber:t.phoneNumber,address:t.address,city:t.city,state:t.state,country:t.country,postalCode:t.postalCode,role:t.roleName,status:a};this.setState({rowIndex:e,formField:n,formProccessing:!1,modal:!0,formValid:!0})}},{key:"handleDeleteEmployee",value:function(e){var a=this,t=this.state.EmployeeList[e];this.setState({loading:!0},(function(){h.a.deleteAPIWithAccessToken("employee",{employeeId:t.profileId}).then((function(e){if(void 0===e.data.data||!e.data.status)return a.setState({loading:!1}),void d.b.error(e.data.message);a.setState({modal:!1,loading:!1}),d.b.success(e.data.message),a.EmployeeList()})).catch((function(e){void 0!==e.response&&401===e.response.status?(localStorage.clear(),a.props.history.push("/login")):a.setState({loading:!1}),d.b.error(e.message)}))}))}},{key:"resetSearchFilter",value:function(){this.setState({filterItem:{filter_organization_id:"",custom_search:""}}),this.EmployeeList()}},{key:"render",value:function(){var e=this.state,a=e.EmployeeList,t=e.loading,n=e.modal,r=e.formProccessing,s=e.errors,l="";t&&(l=i.a.createElement(g.a,null));var o=i.a.createElement(i.a.Fragment,null,"Submit ",i.a.createElement("i",{className:"fa fa-spinner"}));return i.a.createElement("div",{className:"dashboard-section"},l,i.a.createElement(f.a,{className:"vd-card"},i.a.createElement(v.a,null,i.a.createElement("div",{className:"d-flex align-items-center"},i.a.createElement("div",{className:"mr-auto"},i.a.createElement("h4",{className:"card-title"},i.a.createElement("i",{className:"fa fa-group"})," Manage Company Users")),i.a.createElement("div",{className:"add-option-info"},i.a.createElement(C.a,{className:"btn-add",type:"button",onClick:this.toggle},i.a.createElement("i",{className:"fa fa-plus"})," Add New")))),i.a.createElement(y.a,{className:"item-list-section"},i.a.createElement("div",{className:"Search-filter"},i.a.createElement("div",{className:"row"},i.a.createElement(N.a,{md:"3"},i.a.createElement(I.a,null,i.a.createElement(S.a,{htmlFor:"filter_organization_id"},"Search By Email/ Name"),i.a.createElement(w.a,{type:"text",placeholder:"Search By Email/ Name",id:"custom_search",name:"custom_search",value:this.state.formField.custom_search,onChange:this.changeFilterHandler}))),i.a.createElement(N.a,{md:"1",className:"p-0"},i.a.createElement(I.a,null,i.a.createElement(S.a,null,"\xa0"),i.a.createElement(C.a,{color:" search-c-change",type:"button",size:"lg",onClick:this.filterEmployeeList},i.a.createElement("i",{className:"fa fa-search"})),"\xa0",i.a.createElement(C.a,{color:" reset-c-change",type:"reset",size:"lg",onClick:this.resetSearchFilter},i.a.createElement("i",{className:"fa fa-refresh"})))))),i.a.createElement("div",{className:"card-table table-responsive"},i.a.createElement(H,{data:a,editEmployeeAction:this.handleEditEmployee,deleteEmployeeAction:this.handleDeleteEmployee,dataTableLoadingStatus:this.state.loading})))),i.a.createElement(x.a,{isOpen:n,toggle:this.toggle,className:"full-width-modal-section employee-modal"},i.a.createElement(A.a,{toggle:this.toggle,className:"pb-0"},"Company User"),i.a.createElement(b.a,{onSubmit:this.submitHandler,noValidate:!0},i.a.createElement(O.a,null,i.a.createElement(u.a,null,i.a.createElement(N.a,{md:"6"},i.a.createElement(I.a,null,i.a.createElement(S.a,{htmlFor:"firstName"},"First Name"),i.a.createElement(w.a,{type:"text",placeholder:"First Person *",id:"firstName",name:"firstName",value:this.state.formField.firstName,onChange:this.changeHandler,required:!0}),i.a.createElement("div",{className:"invalid-feedback"},s.firstName))),i.a.createElement(N.a,{md:"6"},i.a.createElement(I.a,null,i.a.createElement(S.a,{htmlFor:"lastName"},"Last Name"),i.a.createElement(w.a,{type:"text",placeholder:"Last Person",id:"lastName",name:"lastName",value:this.state.formField.lastName,onChange:this.changeHandler}))),i.a.createElement(N.a,{md:"6"},i.a.createElement(I.a,null,i.a.createElement(S.a,{htmlFor:"email"},"Email"),i.a.createElement(w.a,{type:"text",placeholder:"Email *",id:"email",name:"email",value:this.state.formField.email,onChange:this.changeHandler,required:!0}),i.a.createElement("div",{className:"invalid-feedback"},s.email))),i.a.createElement(N.a,{md:"6"},i.a.createElement(I.a,null,i.a.createElement(S.a,{htmlFor:"roleName"},"Role"),i.a.createElement(w.a,{type:"text",placeholder:"Role",id:"roleName",name:"roleName",value:this.state.formField.roleName,onChange:this.changeHandler}))),i.a.createElement(N.a,{md:"6"},i.a.createElement(I.a,null,i.a.createElement(S.a,{htmlFor:"phoneNumber"},"Phone Number"),i.a.createElement(w.a,{type:"number",placeholder:"Phone Number",id:"phoneNumber",name:"phoneNumber",value:this.state.formField.phoneNumber,onChange:this.changeHandler}))),i.a.createElement(N.a,{md:"6"},i.a.createElement(I.a,null,i.a.createElement(S.a,{htmlFor:"address"},"Street Address "),i.a.createElement(w.a,{type:"text",placeholder:"Street Address",id:"address",name:"address",value:this.state.formField.address,onChange:this.changeHandler}))),i.a.createElement(N.a,{md:"6"},i.a.createElement(I.a,null,i.a.createElement(S.a,{htmlFor:"city"},"City "),i.a.createElement(w.a,{type:"text",placeholder:"City",id:"city",name:"city",value:this.state.formField.city,onChange:this.changeHandler}))),i.a.createElement(N.a,{md:"6"},i.a.createElement(I.a,null,i.a.createElement(S.a,{htmlFor:"state"},"State"),i.a.createElement(w.a,{type:"text",placeholder:"State",id:"state",name:"state",value:this.state.formField.state,onChange:this.changeHandler}))),i.a.createElement(N.a,{md:"6"},i.a.createElement(I.a,null,i.a.createElement(S.a,{htmlFor:"postalCode"},"Postal Code "),i.a.createElement(w.a,{type:"text",placeholder:"Postal Code",id:"postalCode",name:"postalCode",value:this.state.formField.postalCode,onChange:this.changeHandler}))),i.a.createElement(N.a,{md:"6"},i.a.createElement(I.a,null,i.a.createElement(S.a,{htmlFor:"country"},"Country "),i.a.createElement(w.a,{type:"text",placeholder:"Country",id:"country",name:"country",value:this.state.formField.country,onChange:this.changeHandler}))),i.a.createElement(N.a,{md:"6"},i.a.createElement(I.a,null,i.a.createElement(S.a,{htmlFor:"template_status"},"Status"),i.a.createElement(w.a,{type:"select",placeholder:"Status *",invalid:void 0!==s.status&&""!==s.status,id:"status",name:"status",value:this.state.formField.status,onChange:this.changeHandler,required:!0},i.a.createElement("option",{value:""},"Select Status"),i.a.createElement("option",{value:"Active"},"Active"),i.a.createElement("option",{value:"Inactive"},"Inactive")),i.a.createElement("div",{className:"invalid-feedback"},s.status))))),i.a.createElement(L.a,null,i.a.createElement(C.a,{color:"primary",disabled:r,type:"submit"},r?o:"Submit"),i.a.createElement(C.a,{color:"secondary",onClick:this.toggle},"Cancel")))))}}]),t}(o.Component),M=function(e){Object(s.a)(t,e);var a=Object(l.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).state={buttonProcessing:!1,rowIndex:"",dataTableItem:[]},r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"editEmployeeItem",value:function(e){this.props.editEmployeeAction(e)}},{key:"deleteEmployeeItem",value:function(e){this.props.deleteEmployeeAction(e)}},{key:"render",value:function(){var e,a=this,t=[],n=Object(T.a)(this.props.data.entries());try{for(n.s();!(e=n.n()).done;){var r=Object(z.a)(e.value,2),s=r[0],l=r[1];console.log(s);var o={organizationName:l.organizationName,firstName:"".concat(l.firstName," ").concat(l.lastName),email:l.email,roleName:l.roleName||" ",phoneNumber:l.phoneNumber||" ",address:l.address||" ",city:l.city||" ",state:l.state||" ",country:l.country||" ",status:h.a.getStatus(l.status),action:""};t.push(o)}}catch(d){n.e(d)}finally{n.f()}var c=[{label:"Employee Name",name:"firstName"},{label:"Email",name:"email"},{label:"Phone Number",name:"phoneNumber"},{label:"Status",name:"status"},{label:"Action",name:"action",options:{filter:!0,customBodyRender:function(e,t,n){var r=t.rowIndex;return i.a.createElement("p",null,i.a.createElement("button",{className:"btn-edit",disabled:a.state.buttonProcessing,onClick:function(){return a.editEmployeeItem(r)}},i.a.createElement("i",{className:"fa fa-pencil"})," "),i.a.createElement("button",{className:"btn-delete",disabled:a.state.buttonProcessing,onClick:function(){window.confirm("Are you sure you wish to delete this employee?")&&a.deleteEmployeeItem(r)}},i.a.createElement("i",{className:"fa fa-trash"})))}}}],m={search:!0,viewColumns:!1,filter:!1,searchOpen:!1,print:!1,download:!0,responsive:"stacked",selectableRows:"none",textLabels:{body:{noMatch:this.props.dataTableLoadingStatus?"Processing........":"",toolTip:"Sort",columnHeaderTooltip:function(e){return"Sort for ".concat(e.label)}}},fixedHeaderOptions:{xAxis:!1,yAxis:!1}};return i.a.createElement(D.a,{title:"Employee User",data:t,columns:c,options:m})}}]),t}(o.Component),B=(t(624),t(380)),V=function(e){Object(s.a)(t,e);var a=Object(l.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).changeHandler=function(e){var a=e.target.name,t=e.target.value,n=r.state.formField;n[a]=t,r.setState({formField:n})},r.changeFilterHandler=function(e){var a=e.target.name,t=e.target.value,n=r.state.filterItem;n[a]=t,r.setState({filterItem:n})},r.toggle=function(){r.setState({modal:!r.state.modal,rowIndex:-1,formValid:!1,formProccessing:!1,formField:{email:"",firstName:"",lastName:"",phoneNumber:"",address:"",city:"",state:"",country:"",postalCode:"",role:""},errors:{email:"",employee_name:"",role:"",error:""}})},r.state={modal:!1,EmployeeList:[],organizationList:[],loading:!0,formProccessing:!1,rowIndex:-1,formField:{organizationId:"",email:"",firstName:"",lastName:"",phoneNumber:"",address:"",city:"",state:"",country:"",postalCode:"",role:"",status:""},errors:{email:"",employee_name:"",role:"",error:""},formValid:!0,filterItem:{filter_organization_id:"",country:"",state:"",custom_search:""}},r.handleEditEmployee=r.handleEditEmployee.bind(Object(E.a)(r)),r.submitHandler=r.submitHandler.bind(Object(E.a)(r)),r.handleDeleteEmployee=r.handleDeleteEmployee.bind(Object(E.a)(r)),r.filterEmployeeList=r.filterEmployeeList.bind(Object(E.a)(r)),r.resetSearchFilter=r.resetSearchFilter.bind(Object(E.a)(r)),r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=B.parse(this.props.location.search);if(void 0!==e.organizationId){var a=this.state.filterItem;a.filter_organization_id=e.organizationId,this.setState({filterItem:a})}this.EmployeeList(this.state.filterItem)}},{key:"EmployeeList",value:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="";void 0!==a.filter_organization_id&&""!==a.filter_organization_id&&(t+=""!==t?"&organizationId="+a.filter_organization_id:"?organizationId="+a.filter_organization_id),void 0!==a.custom_search&&""!==a.custom_search&&(t+=""!==t?"&keyword="+a.custom_search:"?keyword="+a.custom_search),this.setState({loading:!0},(function(){h.a.getAPIWithAccessToken("employee"+t).then((function(a){if(void 0===a.data.data||!a.data.status)return e.setState({loading:!1}),void d.b.error(a.data.message);e.setState({loading:!1,EmployeeList:a.data.data})})).catch((function(a){void 0!==a.response&&401===a.response.status?(localStorage.clear(),e.props.history.push("/login")):(e.setState({loading:!1}),d.b.error(a.message))}))}))}},{key:"filterEmployeeList",value:function(){var e=this.state.filterItem;this.EmployeeList(e)}},{key:"submitHandler",value:function(e){var a=this;if(e.preventDefault(),e.target.className+=" was-validated",this.validateForm())return!1;this.setState({formProccessing:!0},(function(){var e=a.state.formField,t=h.a.getStatusVal(e.status),n={email:e.email,firstName:e.firstName,lastName:e.lastName,phoneNumber:e.phoneNumber,address:e.address,roleName:e.role,city:e.city,state:e.state,country:e.country,postalCode:e.postalCode,employeeName:e.firstName,status:t},r=a.state.rowIndex;if(r>-1){var s=a.state.EmployeeList[r];h.a.putAPIWithAccessToken("employee/"+s.profileId,n).then((function(e){if(void 0===e.data.data||!e.data.status)return a.setState({formProccessing:!1}),void d.b.error(e.data.message);a.setState({modal:!1,formProccessing:!1}),d.b.success(e.data.message),a.EmployeeList(a.state.filterItem)})).catch((function(e){void 0!==e.response&&401===e.response.status?(localStorage.clear(),a.props.history.push("/login")):a.setState({formProccessing:!1}),d.b.error(e.message)}))}else h.a.postAPIWithAccessToken("employee",n).then((function(e){if(void 0===e.data.data||!e.data.status)return a.setState({formProccessing:!1}),void d.b.error(e.data.message);a.setState({modal:!1}),d.b.success(e.data.message),a.EmployeeList(a.state.filterItem)})).catch((function(e){void 0!==e.response&&401===e.response.status?(localStorage.clear(),a.props.history.push("/login")):a.setState({formProccessing:!1}),d.b.error(e.message)}))}))}},{key:"validateForm",value:function(){var e=!1,a=this.state.formField,t={},n=new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i);return void 0!==a.firstName&&""!==a.firstName.trim()||(e=!0,t.firstName="First name field required!"),void 0===a.email||""===a.email.trim()?(e=!0,t.email="Email field required!"):n.test(a.email)||(e=!0,t.email="Invalid email format"),void 0!==a.status&&""!==a.status.trim()||(e=!0,t.status="Status field required"),this.setState({errors:t}),e}},{key:"errorClass",value:function(e){return 0===e.length?"":"has-error"}},{key:"handleEditEmployee",value:function(e){var a,t=this.state.EmployeeList[e];a=h.a.getStatus(t.status);var n={organizationId:t.organizationAuthId,email:t.email,firstName:t.firstName,lastName:t.lastName,phoneNumber:t.phoneNumber,address:t.address,city:t.city,state:t.state,country:t.country,postalCode:t.postalCode,role:t.roleName,status:a};this.setState({rowIndex:e,formField:n,formProccessing:!1,modal:!0,formValid:!0})}},{key:"handleDeleteEmployee",value:function(e){var a=this,t=this.state.EmployeeList[e];this.setState({loading:!0},(function(){h.a.deleteAPIWithAccessToken("employee",{employeeId:t.profileId}).then((function(e){if(void 0===e.data.data||!e.data.status)return a.setState({loading:!1}),void d.b.error(e.data.message);a.setState({modal:!1,loading:!1}),d.b.success(e.data.message),a.EmployeeList()})).catch((function(e){void 0!==e.response&&401===e.response.status?(localStorage.clear(),a.props.history.push("/login")):a.setState({loading:!1}),d.b.error(e.message)}))}))}},{key:"resetSearchFilter",value:function(){this.setState({filterItem:{filter_organization_id:"",custom_search:""}}),this.EmployeeList()}},{key:"render",value:function(){var e=this.state,a=e.EmployeeList,t=e.loading,n=e.modal,r=e.formProccessing,s=e.errors,l="";t&&(l=i.a.createElement(g.a,null));var o=i.a.createElement(i.a.Fragment,null,"Submit ",i.a.createElement("i",{className:"fa fa-spinner"}));return i.a.createElement("div",{className:"dashboard-section"},l,i.a.createElement(f.a,{className:"vd-card"},i.a.createElement(v.a,null,i.a.createElement("div",{className:"d-flex align-items-center"},i.a.createElement("div",{className:"mr-auto"},i.a.createElement("h4",{className:"card-title"},i.a.createElement("i",{class:"fa fa-user"})," Manage Employee User")),i.a.createElement("div",{className:"add-option-info"},i.a.createElement(C.a,{className:"btn-add",type:"button",onClick:this.toggle},i.a.createElement("i",{className:"fa fa-plus"})," Add New")))),i.a.createElement(y.a,{className:"item-list-section"},i.a.createElement("div",{className:"Search-filter"},i.a.createElement("div",{className:"row"},i.a.createElement(N.a,{md:"3"},i.a.createElement(I.a,null,i.a.createElement(S.a,{htmlFor:"filter_organization_id"},"Search By Email/ Name"),i.a.createElement(w.a,{type:"text",placeholder:"Search By Email/ Name",id:"custom_search",name:"custom_search",value:this.state.formField.custom_search,onChange:this.changeFilterHandler}))),i.a.createElement(N.a,{md:"1",className:"p-0"},i.a.createElement(I.a,null,i.a.createElement(S.a,null,"\xa0"),i.a.createElement(C.a,{color:" search-c-change",type:"button",size:"lg",onClick:this.filterEmployeeList},i.a.createElement("i",{className:"fa fa-search"})),"\xa0",i.a.createElement(C.a,{color:" reset-c-change",type:"reset",size:"lg",onClick:this.resetSearchFilter},i.a.createElement("i",{className:"fa fa-refresh"})))))),i.a.createElement("div",{className:"card-table table-responsive"},i.a.createElement(M,{data:a,editEmployeeAction:this.handleEditEmployee,deleteEmployeeAction:this.handleDeleteEmployee,dataTableLoadingStatus:this.state.loading})))),i.a.createElement(x.a,{isOpen:n,toggle:this.toggle,className:"full-width-modal-section employee-modal"},i.a.createElement(A.a,{toggle:this.toggle},"Company Employee User"),i.a.createElement(b.a,{onSubmit:this.submitHandler,noValidate:!0},i.a.createElement(O.a,null,i.a.createElement(u.a,null,i.a.createElement(N.a,{md:"6"},i.a.createElement(I.a,null,i.a.createElement(S.a,{htmlFor:"firstName"},"First Name"),i.a.createElement(w.a,{type:"text",placeholder:"First Person *",id:"firstName",name:"firstName",value:this.state.formField.firstName,onChange:this.changeHandler,required:!0}),i.a.createElement("div",{className:"invalid-feedback"},s.firstName))),i.a.createElement(N.a,{md:"6"},i.a.createElement(I.a,null,i.a.createElement(S.a,{htmlFor:"lastName"},"Last Name"),i.a.createElement(w.a,{type:"text",placeholder:"Last Person",id:"lastName",name:"lastName",value:this.state.formField.lastName,onChange:this.changeHandler}))),i.a.createElement(N.a,{md:"6"},i.a.createElement(I.a,null,i.a.createElement(S.a,{htmlFor:"email"},"Email"),i.a.createElement(w.a,{type:"text",placeholder:"Email *",id:"email",name:"email",value:this.state.formField.email,onChange:this.changeHandler,required:!0}),i.a.createElement("div",{className:"invalid-feedback"},s.email))),i.a.createElement(N.a,{md:"6"},i.a.createElement(I.a,null,i.a.createElement(S.a,{htmlFor:"phoneNumber"},"Phone Number"),i.a.createElement(w.a,{type:"number",placeholder:"Phone Number",id:"phoneNumber",name:"phoneNumber",value:this.state.formField.phoneNumber,onChange:this.changeHandler}))),i.a.createElement(N.a,{md:"6"},i.a.createElement(I.a,null,i.a.createElement(S.a,{htmlFor:"address"},"Street Address "),i.a.createElement(w.a,{type:"text",placeholder:"Street Address",id:"address",name:"address",value:this.state.formField.address,onChange:this.changeHandler}))),i.a.createElement(N.a,{md:"6"},i.a.createElement(I.a,null,i.a.createElement(S.a,{htmlFor:"city"},"City "),i.a.createElement(w.a,{type:"text",placeholder:"City",id:"city",name:"city",value:this.state.formField.city,onChange:this.changeHandler}))),i.a.createElement(N.a,{md:"6"},i.a.createElement(I.a,null,i.a.createElement(S.a,{htmlFor:"state"},"State"),i.a.createElement(w.a,{type:"text",placeholder:"State",id:"state",name:"state",value:this.state.formField.state,onChange:this.changeHandler}))),i.a.createElement(N.a,{md:"6"},i.a.createElement(I.a,null,i.a.createElement(S.a,{htmlFor:"postalCode"},"Postal Code "),i.a.createElement(w.a,{type:"text",placeholder:"Postal Code",id:"postalCode",name:"postalCode",value:this.state.formField.postalCode,onChange:this.changeHandler}))),i.a.createElement(N.a,{md:"6"},i.a.createElement(I.a,null,i.a.createElement(S.a,{htmlFor:"country"},"Country "),i.a.createElement(w.a,{type:"text",placeholder:"Country",id:"country",name:"country",value:this.state.formField.country,onChange:this.changeHandler}))),i.a.createElement(N.a,{md:"6"},i.a.createElement(I.a,null,i.a.createElement(S.a,{htmlFor:"template_status"},"Status"),i.a.createElement(w.a,{type:"select",placeholder:"Status *",invalid:void 0!==s.status&&""!==s.status,id:"status",name:"status",value:this.state.formField.status,onChange:this.changeHandler,required:!0},i.a.createElement("option",{value:""},"Select Status"),i.a.createElement("option",{value:"Active"},"Active"),i.a.createElement("option",{value:"Inactive"},"Inactive")),i.a.createElement("div",{className:"invalid-feedback"},s.status))))),i.a.createElement(L.a,null,i.a.createElement(C.a,{color:"primary",disabled:r,type:"submit"},r?o:"Submit"),i.a.createElement(C.a,{color:"secondary",onClick:this.toggle},"Cancel")))))}}]),t}(o.Component),W=t(61),q=function(e){var a="New";return 2===e?a="Investigation in progress":3===e&&(a="Closed"),a},Y=function(e){Object(s.a)(t,e);var a=Object(l.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).state={buttonProcessing:!1,rowIndex:"",dataTableItem:[]},r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"deleteRegisteredCaseItem",value:function(e){this.props.deleteCasesAction(e)}},{key:"changeRegisteredCaseItemInvestigator",value:function(e){this.props.changeRegisteredInvestigatorAction(e)}},{key:"render",value:function(){var e,a=this,t=[],n=Object(T.a)(this.props.data.entries());try{for(n.s();!(e=n.n()).done;){var r=Object(z.a)(e.value,2),s=r[0],l=r[1];console.log(s);var o={caseId:l.caseAutoId,caseTitle:"".concat(l.caseTitle),caseTypeName:l.caseTypeName,threatType:l.threatType.join(","),employeeName:l.employeeName||" ",assignUserName:l.assignUserName||"",status:q(l.status),action:""};t.push(o)}}catch(d){n.e(d)}finally{n.f()}var c=[{label:"Case Id",name:"caseId"},{label:"Case Title",name:"caseTitle"},{label:"Case Type",name:"caseTypeName"},{label:"Case Threat",name:"threatType"},{label:"Case Registred By",name:"employeeName"},{label:"Assigned Company User",name:"assignUserName"},{label:"Status",name:"status"},{label:"Action",name:"action",options:{filter:!0,customBodyRender:function(e,t,n){var r=t.rowIndex,s=a.props.data[r];return i.a.createElement("p",null,i.a.createElement(W.Link,{className:"btn-view",to:"/user/registered-cases/".concat(s.caseId)},i.a.createElement("i",{className:"fa fa-eye"})),i.a.createElement("button",{className:"btn-edit",disabled:a.state.buttonProcessing,onClick:function(){window.confirm("Are you sure you wish to change assign company user?")&&a.changeRegisteredCaseItemInvestigator(r)}},i.a.createElement("i",{className:"fa fa-user"})),i.a.createElement("button",{className:"btn-delete",disabled:a.state.buttonProcessing,onClick:function(){window.confirm("Are you sure you wish to delete this registered case?")&&a.deleteRegisteredCaseItem(r)}},i.a.createElement("i",{className:"fa fa-trash"})))}}}],m={search:!0,viewColumns:!1,filter:!1,searchOpen:!1,print:!1,download:!0,responsive:"stacked",selectableRows:"none",textLabels:{body:{noMatch:this.props.dataTableLoadingStatus?"Processing........":"",toolTip:"Sort",columnHeaderTooltip:function(e){return"Sort for ".concat(e.label)}}},fixedHeaderOptions:{xAxis:!1,yAxis:!1}};return i.a.createElement(D.a,{title:"Registered Cases",data:t,columns:c,options:m})}}]),t}(o.Component),$=(t(625),t(380));function K(e){var a=e.organizationInfo;return i.a.createElement("option",{value:a.authId},a.firstName," ",a.lastName)}var G=function(e){Object(s.a)(t,e);var a=Object(l.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).changeFilterHandler=function(e){var a=e.target.name,t=e.target.value,n=r.state.filterItem;n[a]=t,r.setState({filterItem:n})},r.toggle=function(){r.setState({modal:!r.state.modal,rowIndex:-1,currentCaseInfo:{},assignUserId:""})},r.state={modal:!1,EmployeeList:[],organizationList:[],caseList:[],loading:!0,formProccessing:!1,rowIndex:-1,filterItem:{filter_organization_id:"",country:"",state:"",custom_search:""},currentCaseInfo:{},assignUserId:"",errors:{}},r.handleDeleteCases=r.handleDeleteCases.bind(Object(E.a)(r)),r.submitHandler=r.submitHandler.bind(Object(E.a)(r)),r.filterCasesList=r.filterCasesList.bind(Object(E.a)(r)),r.resetSearchFilter=r.resetSearchFilter.bind(Object(E.a)(r)),r.changeRegisteredInvestigator=r.changeRegisteredInvestigator.bind(Object(E.a)(r)),r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=$.parse(this.props.location.search);if(void 0!==e.organizationId){var a=this.state.filterItem;a.filter_organization_id=e.organizationId,this.setState({filterItem:a})}this.EmployeeList(this.state.filterItem),this.registeredCasesList(this.state.filterItem)}},{key:"EmployeeList",value:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="?roleType=company_user";void 0!==a.filter_organization_id&&""!==a.filter_organization_id&&(t+=""!==t?"&organizationId="+a.filter_organization_id:"?organizationId="+a.filter_organization_id),void 0!==a.custom_search&&""!==a.custom_search&&(t+=""!==t?"&keyword="+a.custom_search:"?keyword="+a.custom_search),this.setState({loading:!0},(function(){h.a.getAPIWithAccessToken("employee"+t).then((function(a){if(void 0===a.data.data||!a.data.status)return e.setState({loading:!1}),void d.b.error(a.data.message);e.setState({loading:!1,EmployeeList:a.data.data})})).catch((function(a){void 0!==a.response&&401===a.response.status?(localStorage.clear(),e.props.history.push("/login")):(e.setState({loading:!1}),d.b.error(a.message))}))}))}},{key:"registeredCasesList",value:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="?isSaved=true";void 0!==a.filter_organization_id&&""!==a.filter_organization_id&&(t+=""!==t?"&organizationId="+a.filter_organization_id:"?organizationId="+a.filter_organization_id),void 0!==a.employee_id&&""!==a.employee_id&&(t+=""!==t?"&searchBYEmployee="+a.employee_id:"?searchBYEmployee="+a.employee_id),void 0!==a.custom_search&&""!==a.custom_search&&(t+=""!==t?"&keyword="+a.custom_search:"?keyword="+a.custom_search),void 0!==a.status&&""!==a.status&&(t+=""!==t?"&status="+a.status:"?status="+a.status),void 0!==a.caseId&&""!==a.caseId&&(t+=""!==t?"&caseId="+a.caseId:"?caseId="+a.caseId),this.setState({loading:!0},(function(){h.a.getAPIWithAccessToken("cases"+t).then((function(a){if(void 0===a.data.data||!a.data.status)return e.setState({loading:!1}),void d.b.error(a.data.message);e.setState({loading:!1,caseList:a.data.data})})).catch((function(a){void 0!==a.response&&401===a.response.status?(localStorage.clear(),e.props.history.push("/login")):(e.setState({loading:!1}),d.b.error(a.message))}))}))}},{key:"filterCasesList",value:function(){var e=this.state.filterItem;this.registeredCasesList(e)}},{key:"handleDeleteCases",value:function(e){var a=this,t=this.state.caseList[e];this.setState({loading:!0},(function(){h.a.deleteAPIWithAccessToken("cases",{caseId:t.caseId}).then((function(e){if(void 0===e.data.data||!e.data.status)return a.setState({loading:!1}),void d.b.error(e.data.message);a.setState({modal:!1,loading:!1}),d.b.success(e.data.message),a.registeredCasesList(a.state.filterItem)})).catch((function(e){void 0!==e.response&&401===e.response.status?(localStorage.clear(),a.props.history.push("/login")):a.setState({loading:!1}),d.b.error(e.message)}))}))}},{key:"resetSearchFilter",value:function(){this.setState({filterItem:{filter_organization_id:"",custom_search:"",employee_id:"",status:"",caseId:""}}),this.registeredCasesList()}},{key:"changeRegisteredInvestigator",value:function(e){var a=this.state.caseList[e];this.setState({modal:!0,rowIndex:e,currentCaseInfo:a,assignUserId:a.assignUserId||""})}},{key:"submitHandler",value:function(e){var a=this;if(e.preventDefault(),e.target.className+=" was-validated",void 0===this.state.assignUserId||""===this.state.assignUserId){return this.setState({errors:{assignUserId:"Please select company user"}}),!1}this.setState({formProccessing:!0,errors:{}},(function(){var e=a.state.rowIndex,t=a.state.caseList[e];h.a.postAPIWithAccessToken("cases/assign-company-user",{caseId:t.caseId,assignUserId:a.state.assignUserId}).then((function(e){if(void 0===e.data.data||!e.data.status)return a.setState({formProccessing:!1}),void d.b.error(e.data.message);a.setState({modal:!1,formProccessing:!1}),d.b.success(e.data.message),a.registeredCasesList(a.state.filterItem)})).catch((function(e){void 0!==e.response&&401===e.response.status?(localStorage.clear(),a.props.history.push("/login")):(a.setState({formProccessing:!1}),d.b.error(e.message))}))}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.loading,n=a.caseList,r=a.modal,s=a.formProccessing,l=a.EmployeeList,o=a.errors,c="";t&&(c=i.a.createElement(g.a,null));var m=i.a.createElement(i.a.Fragment,null,"Save Changes ",i.a.createElement("i",{className:"fa fa-spinner"}));return i.a.createElement("div",{className:"dashboard-section"},c,i.a.createElement(f.a,{className:"vd-card"},i.a.createElement(v.a,null,i.a.createElement("div",{className:"d-flex align-items-center"},i.a.createElement("div",{className:"mr-auto"},i.a.createElement("h4",{className:"card-title"},i.a.createElement("i",{class:"fa fa-file-text","aria-hidden":"true"})," Manage Registered Cases")))),i.a.createElement(y.a,{className:"item-list-section"},i.a.createElement("div",{className:"Search-filter"},i.a.createElement("div",{className:"row"},i.a.createElement(N.a,{md:"3"},i.a.createElement(I.a,null,i.a.createElement(S.a,{htmlFor:"filter_organization_id"},"Search By Case ID"),i.a.createElement(w.a,{type:"number",placeholder:"Search By Case ID",id:"caseId",name:"caseId",value:this.state.filterItem.caseId,onChange:this.changeFilterHandler}))),i.a.createElement(N.a,{md:"3"},i.a.createElement(I.a,null,i.a.createElement(S.a,{htmlFor:"filter_organization_id"},"Search By Case Title"),i.a.createElement(w.a,{type:"text",placeholder:"Search By Case Title",id:"custom_search",name:"custom_search",value:this.state.filterItem.custom_search,onChange:this.changeFilterHandler}))),i.a.createElement(N.a,{md:"3"},i.a.createElement(I.a,null,i.a.createElement(S.a,{htmlFor:"filter_doctor_id"},"Search By Status"),i.a.createElement(w.a,{type:"select",placeholder:"Search By Status",id:"status",name:"status",value:this.state.filterItem.status,onChange:this.changeFilterHandler},i.a.createElement("option",{value:""},"Select"),i.a.createElement("option",{value:"1"},"New"),i.a.createElement("option",{value:"2"},"Investigation in progress"),i.a.createElement("option",{value:"3"},"Closed")))),i.a.createElement(N.a,{md:"1",className:"p-0"},i.a.createElement(I.a,null,i.a.createElement(S.a,null,"\xa0"),i.a.createElement(C.a,{color:" search-c-change",type:"button",size:"lg",onClick:this.filterCasesList},i.a.createElement("i",{className:"fa fa-search"})),"\xa0",i.a.createElement(C.a,{color:" reset-c-change",type:"reset",size:"lg",onClick:this.resetSearchFilter},i.a.createElement("i",{className:"fa fa-refresh"})))))),i.a.createElement("div",{className:"card-table table-responsive"},i.a.createElement(Y,{data:n,deleteCasesAction:this.handleDeleteCases,changeRegisteredInvestigatorAction:this.changeRegisteredInvestigator,dataTableLoadingStatus:this.state.loading})))),i.a.createElement(x.a,{isOpen:r,toggle:this.toggle,className:"full-width-modal-section organization-modal"},i.a.createElement(A.a,{toggle:this.toggle},"Assign Company User"),i.a.createElement(b.a,{onSubmit:this.submitHandler,noValidate:!0},i.a.createElement(O.a,null,i.a.createElement(u.a,null,i.a.createElement(N.a,{md:"12"},i.a.createElement(S.a,null,"Current Assign Company User: ",this.state.currentCaseInfo.assignUserName)),i.a.createElement(N.a,{md:"12"},i.a.createElement(I.a,null,i.a.createElement(S.a,null,"Assign Company User"),i.a.createElement(w.a,{type:"select",placeholder:"Company User*",id:"assignUserId",name:"assignUserId",value:this.state.assignUserId,onChange:function(a){e.setState({assignUserId:a.target.value})},required:!0},i.a.createElement("option",{value:""},"Select"),l.map((function(e,a){return i.a.createElement(K,{key:a,organizationInfo:e})}))),i.a.createElement("div",{className:"invalid-feedback"},o.assignUserId))))),i.a.createElement(L.a,null,i.a.createElement(C.a,{color:"primary",disabled:s,type:"submit"},s?m:"Save Changes"),i.a.createElement(C.a,{color:"secondary",onClick:this.toggle},"Cancel")))))}}]),t}(o.Component),J=t(668),Q=new function e(){Object(n.a)(this,e),this.createPdf=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"template";Object(J.a)(e,{paperSize:"Letter",fileName:a+".pdf",margin:3})}},X=(t(628),function(e){Object(s.a)(t,e);var a=Object(l.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).createPdf=function(){return r.props.createPdf(r.bodyRef.current)},r.state={modal:!1,share_email:"",email_error:"",loading:!1},r.bodyRef=i.a.createRef(),r}return Object(r.a)(t,[{key:"render",value:function(){return i.a.createElement("section",{className:"pdf-container"},i.a.createElement("section",{className:"pdf-toolbar pdf-toolbar-padding"},i.a.createElement("button",{onClick:this.createPdf,className:"pdf-download-button pull-right"},i.a.createElement("i",{className:"fa fa-download"})," Download PDF")),i.a.createElement("section",{className:"pdf-body",style:{padding:"20px"},ref:this.bodyRef},this.props.children))}}]),t}(o.Component)),Z=(t(629),function(e){Object(s.a)(t,e);var a=Object(l.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).createPdf=function(e){Q.createPdf(e,r.state.registeredCasesInfo.caseTitle.toLowerCase()+"_"+r.state.registeredCasesInfo.caseAutoId+"_"+h.a.getCurrentDate())},r.state={loading:!0,registeredCasesInfo:{threatType:[],howThreaten:[],modeOfThreat:[],dateOfIncident:[],incidentSupportDocs:[],companySupportDocs:[],instigatorProfile:[],victimProfile:[],othersProfile:[],resource:[]}},r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this,a=this.props.match.params;this.setState({loading:!0},(function(){h.a.getAPIWithAccessToken("cases/"+a.registredCaseId).then((function(a){if(console.log(a),void 0===a.data.data||!a.data.status)return e.setState({loading:!1}),d.b.error(a.data.message),void e.props.history.push("/user/registered-cases");e.setState({loading:!1,registeredCasesInfo:a.data.data})})).catch((function(a){void 0!==a.response&&401===a.response.status?(localStorage.clear(),e.props.history.push("/login")):(e.setState({loading:!1}),d.b.error(a.message))}))}))}},{key:"render",value:function(){var e=this.state,a=e.registeredCasesInfo,t="";return e.loading&&(t=i.a.createElement(g.a,null)),i.a.createElement("div",{className:"dashboard-section"},t,i.a.createElement(f.a,{className:"vd-card"},i.a.createElement(v.a,null,i.a.createElement("div",{className:"d-flex align-items-center"},i.a.createElement("div",{className:"mr-auto"},i.a.createElement("h4",{className:"card-title"},i.a.createElement("i",{class:"fa fa-file-text-o","aria-hidden":"true"})," Registered Case Details")))),i.a.createElement(y.a,{className:"item-list-section"},i.a.createElement("div",{className:"Search-filter"},i.a.createElement(X,{createPdf:this.createPdf},i.a.createElement(u.a,null,i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Case Id: ")),i.a.createElement("span",null," ",a.caseAutoId||"")),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Registred By: ")),i.a.createElement("span",null," ",a.employeeName||"N/A")),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Case Type: ")),i.a.createElement("span",null," ",a.caseTypeName||"N/A")),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Case Title: ")),i.a.createElement("span",null," ",a.caseTitle||"")),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Secondary to report threat: ")),i.a.createElement("span",null," ",a.secondaryReportThreat||"")),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Threat Type: ")),i.a.createElement("span",null," ",a.threatType.join(","))),i.a.createElement(N.a,{md:12},i.a.createElement("hr",null)),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"How Threaten: ")),i.a.createElement("span",null," ",a.howThreaten)),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Mode of Threat: ")),i.a.createElement("span",null," ",a.modeOfThreat.join(","))),i.a.createElement(N.a,{md:12},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Description of incident: ")),i.a.createElement("span",null," ",a.descriptionOfIncident||"")),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Date of incidents: ")),i.a.createElement("span",null," ",a.dateOfIncident.join(","))),i.a.createElement(N.a,{md:12},i.a.createElement("hr",null),i.a.createElement("h3",null,"Incident Information")),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Location: ")),i.a.createElement("span",null," ",a.incidentLocation||"N/A")),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Name: ")),i.a.createElement("span",null," ",a.incidentPersonName||"N/A")),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Number: ")),i.a.createElement("span",null," ",a.incidentPersonNumber||"N/A")),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Email: ")),i.a.createElement("span",null," ",a.incidentPersonEmail||"N/A")),i.a.createElement(N.a,{md:12},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Department Information: ")),i.a.createElement("span",null," ",a.incidentDepartmentDescription||"N/A")),i.a.createElement(N.a,{md:12},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Supported Documents:")),i.a.createElement("div",{className:"imagesPreview-section"},a.incidentSupportDocs.map((function(e,a){return i.a.createElement("div",{className:"imagesPreview",key:a},i.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},"Preview Docs"))})))),i.a.createElement(N.a,{md:12},i.a.createElement("hr",null),i.a.createElement("h3",null,"Involved Parties")),i.a.createElement(N.a,{md:12},i.a.createElement("h5",null,"Instigator")),i.a.createElement(N.a,{md:12},a.instigatorProfile.map((function(e,a){return i.a.createElement(u.a,{className:"instigator-info",key:a},i.a.createElement(N.a,{md:4},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Name: ")),i.a.createElement("span",null," ",e.instigatorName||"N/A")),i.a.createElement(N.a,{md:4},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Contact: ")),i.a.createElement("span",null," ",e.instigatorContact||"N/A")),i.a.createElement(N.a,{md:4},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Date Of Birth: ")),i.a.createElement("span",null," ",h.a.getDate(e.instigatorDOB))),i.a.createElement(N.a,{md:4},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Address: ")),i.a.createElement("span",null," ",e.instigatoraddress||"N/A")),i.a.createElement(N.a,{md:4},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Social Information: ")),i.a.createElement("span",null," ",e.instigatorSocialInformation||"N/A")))}))),i.a.createElement(N.a,{md:12},i.a.createElement("h5",null,"Victim")),i.a.createElement(N.a,{md:12},a.victimProfile.map((function(e,a){return i.a.createElement(u.a,{className:"instigator-info",key:a},i.a.createElement(N.a,{md:4},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Name: ")),i.a.createElement("span",null," ",e.victimName||"N/A")),i.a.createElement(N.a,{md:4},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Contact: ")),i.a.createElement("span",null," ",e.victimContact||"N/A")),i.a.createElement(N.a,{md:4},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Date Of Birth: ")),i.a.createElement("span",null," ",h.a.getDate(e.victimDOB))),i.a.createElement(N.a,{md:4},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Address: ")),i.a.createElement("span",null," ",e.victimaddress||"N/A")),i.a.createElement(N.a,{md:4},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Social Information: ")),i.a.createElement("span",null," ",e.victimSocialInformation||"N/A")))}))),i.a.createElement(N.a,{md:12},i.a.createElement("h5",null,"Others")),i.a.createElement(N.a,{md:12},a.othersProfile.map((function(e,a){return i.a.createElement(u.a,{className:"instigator-info",key:a},i.a.createElement(N.a,{md:4},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Name: ")),i.a.createElement("span",null," ",e.othersName||"N/A")),i.a.createElement(N.a,{md:4},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Contact: ")),i.a.createElement("span",null," ",e.othersContact||"N/A")),i.a.createElement(N.a,{md:4},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Date Of Birth: ")),i.a.createElement("span",null," ",h.a.getDate(e.othersDOB))),i.a.createElement(N.a,{md:4},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Address: ")),i.a.createElement("span",null," ",e.othersaddress||"N/A")),i.a.createElement(N.a,{md:4},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Social Information: ")),i.a.createElement("span",null," ",e.othersSocialInformation||"N/A")))}))),i.a.createElement(N.a,{md:12},i.a.createElement("h5",null,"Resource")),i.a.createElement(N.a,{md:12},a.resource.map((function(e,a){return i.a.createElement(u.a,{className:"instigator-info",key:a},i.a.createElement(N.a,{md:4},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Resource Name: ")),i.a.createElement("span",null," ",e.resourceName||"N/A")),i.a.createElement(N.a,{md:4},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Contact: ")),i.a.createElement("span",null," ",Array.isArray(e.instigatorContact)?e.instigatorContact.join(","):"")),i.a.createElement(N.a,{md:4},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Discussion Summary: ")),i.a.createElement("span",null," ",e.discussionSummary||"N/A")))}))),i.a.createElement(N.a,{md:12},i.a.createElement("hr",null),i.a.createElement("h3",null,"Company Information")),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Initial Threat Level: ")),i.a.createElement("span",null," ",a.initialThreatLevel||"0")),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Supported Documents:"))),i.a.createElement(N.a,{md:12},"  ",i.a.createElement("div",{className:"imagesPreview-section"},a.companySupportDocs.map((function(e,a){return i.a.createElement("div",{className:"imagesPreview",key:a},i.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},"Preview Docs"))})))),i.a.createElement(N.a,{md:12},i.a.createElement("hr",null),i.a.createElement("h3",null,"Threat Information and Details")),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Did a physical assault happen recently or in the past? ")),i.a.createElement("p",null,a.physicalAssault),i.a.createElement("p",null,"Description: ",a.physicalAssaultDescription)),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Is Law Enforcement involved? ")),i.a.createElement("p",null,a.lawEnforcement),i.a.createElement("p",null,"Description: ",a.lawEnforcementDescription)),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Is there a protection order place or planned? ")),i.a.createElement("p",null,a.protectionOrder),i.a.createElement("p",null,"Description: ",a.protectionOrderDescription)),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"History of violence? ")),i.a.createElement("p",null,a.historyViolence),i.a.createElement("p",null,"Description: ",a.historyViolenceDescription)),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"History of weapons use or access to weapons? ")),i.a.createElement("p",null,a.historyWeapon),i.a.createElement("p",null,"Description: ",a.historyWeaponDescription)),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"History of heavy alcohol use/addiction? ")),i.a.createElement("p",null,a.historyAlcohol),i.a.createElement("p",null,"Description: ",a.historyAlcoholDescription)),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Under the influence at the time of the incident(s)? ")),i.a.createElement("p",null,a.influnece),i.a.createElement("p",null,"Description: ",a.influenceDescription)),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Gang or extremist affiliations? ")),i.a.createElement("p",null,a.gang),i.a.createElement("p",null,"Description: ",a.gangDescription)),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Known specialized training (law enforcement or military)? ")),i.a.createElement("p",null,a.specializedTraining)),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Known financial or personal problems (BK, Divorce)? ")),i.a.createElement("p",null,a.financialProblem)),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Known employment issue? ")),i.a.createElement("p",null,a.employmentIssue)),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Past suicidal ideation? ")),i.a.createElement("p",null,a.pastSucidial)),i.a.createElement(N.a,{md:12},i.a.createElement("hr",null),i.a.createElement("h3",null,"Mental Health Concerns")),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Are you mental health provider or is this diagnosis from one? ")),i.a.createElement("p",null,a.mentalHealthProvider)),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Are you psychologist? ")),i.a.createElement("p",null,a.psychologist)),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Is this diagnosis from a psychologist? ")),i.a.createElement("p",null,a.diagnosisPsychologist)),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Does instigator suffer from high paranoia? ")),i.a.createElement("p",null,a.instigatorSuffer)),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Does instigator suffer from Psychotic Violent thoughts? ")),i.a.createElement("p",null,a.violentThoughts)),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Other mental health concerns? ")),i.a.createElement("p",null,a.otherMentalHealth),i.a.createElement("p",null,a.otherMentalHealthDescription)),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"From a scale of 1-5 please rate serverity? ")),i.a.createElement("p",null,a.mentalHealthRate)),i.a.createElement(N.a,{md:12},i.a.createElement("hr",null),i.a.createElement("h3",null,"Grivances")),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Financial or Material ")),i.a.createElement("p",null,a.financial?"Yes":"No")),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Personal Prejudice (Racist/Extremist) ")),i.a.createElement("p",null,a.personal?"Yes":"No")),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Work Performance or Sabotage ")),i.a.createElement("p",null,a.workPerformance?"Yes":"No")),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Intimate Relationship Fixation ")),i.a.createElement("p",null,a.intimateRelationship?"Yes":"No")),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Non-Intimate Relationship Fixation ")),i.a.createElement("p",null,a.nonIntimateRelationship?"Yes":"No")),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Stalking Involved ")),i.a.createElement("p",null,a.stalking?"Yes":"No")),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Grivances Description ")),i.a.createElement("p",null,a.grievanceDescription)),i.a.createElement(N.a,{md:12},i.a.createElement("hr",null),i.a.createElement("h3",null,"Victim Assessment")),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Prior incidents of abuse? ")),i.a.createElement("p",null,a.priprIncident)),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Stable Living situation? ")),i.a.createElement("p",null,a.stableLiving)),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Employment/Education concerns? ")),i.a.createElement("p",null,a.employmentConcern)),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Current or planned security measures in place? ")),i.a.createElement("p",null,a.currentSecurity)),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Security training or enhanced skills? ")),i.a.createElement("p",null,a.securityTraining)),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Assistance program offered? ")),i.a.createElement("p",null,a.assignmentProgram)),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Support system available(family/friends)? ")),i.a.createElement("p",null,a.supportSystem)),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Mental Health Concerns? ")),i.a.createElement("p",null,a.mentalHealth)),i.a.createElement(N.a,{md:6},i.a.createElement(S.a,null,i.a.createElement("strong",null,"Description of incidents? ")),i.a.createElement("p",null,a.victimDescription))))))))}}]),t}(o.Component)),ee=function(e){var a="Pending";return 0===e?a="Pending":1===e?a="Approved":2===e&&(a="UnApproved"),a},ae=function(e){Object(s.a)(t,e);var a=Object(l.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).state={buttonProcessing:!1,rowIndex:"",dataTableItem:[]},r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"deleteRegisteredCaseItem",value:function(e){this.props.deleteCasesAction(e)}},{key:"changeRegisteredCaseItemInvestigator",value:function(e){this.props.changeRegisteredInvestigatorAction(e)}},{key:"render",value:function(){var e,a=this,t=[],n=Object(T.a)(this.props.data.entries());try{for(n.s();!(e=n.n()).done;){var r=Object(z.a)(e.value,2),s=r[0],l=r[1];console.log(s);var o={caseId:l.caseAutoId,caseTitle:"".concat(l.caseTitle),caseTypeName:l.caseTypeName,threatType:l.threatType.join(","),employeeName:l.employeeName||" ",amount:l.amount||0,status:ee(l.status),action:""};t.push(o)}}catch(d){n.e(d)}finally{n.f()}var c=[{label:"Case Id",name:"caseId"},{label:"Case Title",name:"caseTitle"},{label:"Case Type",name:"caseTypeName"},{label:"Case Threat",name:"threatType"},{label:"Employee Name",name:"employeeName"},{label:"Amount",name:"amount"},{label:"Status",name:"status"},{label:"Action",name:"action",options:{filter:!0,customBodyRender:function(e,t,n){var r=t.rowIndex;return i.a.createElement("p",null,i.a.createElement("button",{className:"btn-edit",disabled:a.state.buttonProcessing,onClick:function(){window.confirm("Are you sure you wish to change status?")&&a.changeRegisteredCaseItemInvestigator(r)}},i.a.createElement("i",{className:"fa fa-user"})),i.a.createElement("button",{className:"btn-delete",disabled:a.state.buttonProcessing,onClick:function(){window.confirm("Are you sure you wish to delete this expense?")&&a.deleteRegisteredCaseItem(r)}},i.a.createElement("i",{className:"fa fa-trash"})))}}}],m={search:!0,viewColumns:!1,filter:!1,searchOpen:!1,print:!1,download:!0,responsive:"stacked",selectableRows:"none",textLabels:{body:{noMatch:this.props.dataTableLoadingStatus?"Processing........":"",toolTip:"Sort",columnHeaderTooltip:function(e){return"Sort for ".concat(e.label)}}},fixedHeaderOptions:{xAxis:!1,yAxis:!1}};return i.a.createElement(D.a,{title:"Expense",data:t,columns:c,options:m})}}]),t}(o.Component),te=(t(630),t(380));function ne(e){var a=e.organizationInfo;return i.a.createElement("option",{value:a.authId},a.firstName," ",a.lastName)}var re=function(e){Object(s.a)(t,e);var a=Object(l.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).changeFilterHandler=function(e){var a=e.target.name,t=e.target.value,n=r.state.filterItem;n[a]=t,r.setState({filterItem:n})},r.toggle=function(){r.setState({modal:!r.state.modal,rowIndex:-1,currentCaseInfo:{},assignUserId:""})},r.state={modal:!1,EmployeeList:[],organizationList:[],expenseList:[],loading:!0,formProccessing:!1,rowIndex:-1,filterItem:{filter_organization_id:"",country:"",state:"",custom_search:"",assignUserId:""},currentCaseInfo:{},assignUserId:"",errors:{}},r.handleDeleteCases=r.handleDeleteCases.bind(Object(E.a)(r)),r.submitHandler=r.submitHandler.bind(Object(E.a)(r)),r.filterCasesList=r.filterCasesList.bind(Object(E.a)(r)),r.resetSearchFilter=r.resetSearchFilter.bind(Object(E.a)(r)),r.changeRegisteredInvestigator=r.changeRegisteredInvestigator.bind(Object(E.a)(r)),r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=te.parse(this.props.location.search);if(void 0!==e.organizationId){var a=this.state.filterItem;a.filter_organization_id=e.organizationId,this.setState({filterItem:a})}this.EmployeeList(this.state.filterItem),this.expenseList(this.state.filterItem)}},{key:"EmployeeList",value:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="?roleType=both";void 0!==a.filter_organization_id&&""!==a.filter_organization_id&&(t+=""!==t?"&organizationId="+a.filter_organization_id:"?organizationId="+a.filter_organization_id),void 0!==a.custom_search&&""!==a.custom_search&&(t+=""!==t?"&keyword="+a.custom_search:"?keyword="+a.custom_search),this.setState({loading:!0},(function(){h.a.getAPIWithAccessToken("employee"+t).then((function(a){if(void 0===a.data.data||!a.data.status)return e.setState({loading:!1}),void d.b.error(a.data.message);e.setState({loading:!1,EmployeeList:a.data.data})})).catch((function(a){void 0!==a.response&&401===a.response.status?(localStorage.clear(),e.props.history.push("/login")):(e.setState({loading:!1}),d.b.error(a.message))}))}))}},{key:"expenseList",value:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="";void 0!==a.filter_organization_id&&""!==a.filter_organization_id&&(t+=""!==t?"&organizationId="+a.filter_organization_id:"?organizationId="+a.filter_organization_id),void 0!==a.employee_id&&""!==a.employee_id&&(t+=""!==t?"&searchBYEmployee="+a.employee_id:"?searchBYEmployee="+a.employee_id),void 0!==a.custom_search&&""!==a.custom_search&&(t+=""!==t?"&keyword="+a.custom_search:"?keyword="+a.custom_search),void 0!==a.caseId&&""!==a.caseId&&(t+=""!==t?"&caseId="+a.caseId:"?caseId="+a.caseId),this.setState({loading:!0},(function(){h.a.getAPIWithAccessToken("expense"+t).then((function(a){if(void 0===a.data.data||!a.data.status)return e.setState({loading:!1}),void d.b.error(a.data.message);e.setState({loading:!1,expenseList:a.data.data})})).catch((function(a){void 0!==a.response&&401===a.response.status?(localStorage.clear(),e.props.history.push("/login")):(e.setState({loading:!1}),d.b.error(a.message))}))}))}},{key:"filterCasesList",value:function(){var e=this.state.filterItem;this.expenseList(e)}},{key:"handleDeleteCases",value:function(e){var a=this,t=this.state.expenseList[e];this.setState({loading:!0},(function(){h.a.deleteAPIWithAccessToken("expense",{expenseId:t.expenseId}).then((function(e){if(void 0===e.data.data||!e.data.status)return a.setState({loading:!1}),void d.b.error(e.data.message);a.setState({modal:!1,loading:!1}),d.b.success(e.data.message),a.expenseList(a.state.filterItem)})).catch((function(e){void 0!==e.response&&401===e.response.status?(localStorage.clear(),a.props.history.push("/login")):a.setState({loading:!1}),d.b.error(e.message)}))}))}},{key:"resetSearchFilter",value:function(){this.setState({filterItem:{filter_organization_id:"",status:"",custom_search:"",employee_id:"",caseId:""}}),this.expenseList()}},{key:"changeRegisteredInvestigator",value:function(e){var a=this.state.expenseList[e];this.setState({modal:!0,rowIndex:e,currentCaseInfo:a,status:a.status||0})}},{key:"submitHandler",value:function(e){var a=this;if(e.preventDefault(),e.target.className+=" was-validated",void 0===this.state.status||""===this.state.status){return this.setState({errors:{status:"Please select status"}}),!1}this.setState({formProccessing:!0,errors:{}},(function(){var e=a.state.rowIndex,t=a.state.expenseList[e];h.a.postAPIWithAccessToken("expense/change-status",{expenseId:t.expenseId,status:a.state.status}).then((function(e){if(void 0===e.data.data||!e.data.status)return a.setState({formProccessing:!1}),void d.b.error(e.data.message);a.setState({modal:!1,formProccessing:!1}),d.b.success(e.data.message),a.expenseList(a.state.filterItem)})).catch((function(e){void 0!==e.response&&401===e.response.status?(localStorage.clear(),a.props.history.push("/login")):(a.setState({formProccessing:!1}),d.b.error(e.message))}))}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.loading,n=a.expenseList,r=a.modal,s=a.formProccessing,l=a.EmployeeList,o=a.errors,c="";t&&(c=i.a.createElement(g.a,null));var m=i.a.createElement(i.a.Fragment,null,"Save Changes ",i.a.createElement("i",{className:"fa fa-spinner"}));return i.a.createElement("div",{className:"dashboard-section"},c,i.a.createElement(f.a,{className:"vd-card"},i.a.createElement(v.a,null,i.a.createElement("div",{className:"d-flex align-items-center"},i.a.createElement("div",{className:"mr-auto"},i.a.createElement("h4",{className:"card-title"},i.a.createElement("i",{class:"fa fa-money"})," Manage Expense")))),i.a.createElement(y.a,{className:"item-list-section"},i.a.createElement("div",{className:"Search-filter"},i.a.createElement("div",{className:"row"},i.a.createElement(N.a,{md:"3"},i.a.createElement(I.a,null,i.a.createElement(S.a,{htmlFor:"filter_organization_id"},"Search By Case ID"),i.a.createElement(w.a,{type:"number",placeholder:"Search By Case ID",id:"caseId",name:"caseId",value:this.state.filterItem.caseId,onChange:this.changeFilterHandler}))),i.a.createElement(N.a,{md:"3"},i.a.createElement(I.a,null,i.a.createElement(S.a,{htmlFor:"filter_organization_id"},"Search By Case Title"),i.a.createElement(w.a,{type:"text",placeholder:"Search By Case Title",id:"custom_search",name:"custom_search",value:this.state.filterItem.custom_search,onChange:this.changeFilterHandler}))),i.a.createElement(N.a,{md:"3"},i.a.createElement(I.a,null,i.a.createElement(S.a,{htmlFor:"filter_organization_id"},"Search By Employee"),i.a.createElement(w.a,{type:"select",placeholder:"Search By Employee",id:"assignUserId",name:"assignUserId",value:this.state.filterItem.assignUserId,onChange:this.changeFilterHandler},i.a.createElement("option",{value:""},"Select"),l.map((function(e,a){return i.a.createElement(ne,{key:a,organizationInfo:e})}))))),i.a.createElement(N.a,{md:"1",className:"p-0"},i.a.createElement(I.a,null,i.a.createElement(S.a,null,"\xa0"),i.a.createElement(C.a,{color:" search-c-change",type:"button",size:"lg",onClick:this.filterCasesList},i.a.createElement("i",{className:"fa fa-search"})),"\xa0",i.a.createElement(C.a,{color:" reset-c-change",type:"reset",size:"lg",onClick:this.resetSearchFilter},i.a.createElement("i",{className:"fa fa-refresh"})))))),i.a.createElement("div",{className:"card-table table-responsive"},i.a.createElement(ae,{data:n,deleteCasesAction:this.handleDeleteCases,changeRegisteredInvestigatorAction:this.changeRegisteredInvestigator,dataTableLoadingStatus:this.state.loading})))),i.a.createElement(x.a,{isOpen:r,toggle:this.toggle,className:"full-width-modal-section organization-modal"},i.a.createElement(A.a,{toggle:this.toggle},"Change Expense Status"),i.a.createElement(b.a,{onSubmit:this.submitHandler,noValidate:!0},i.a.createElement(O.a,null,i.a.createElement(u.a,null,i.a.createElement(N.a,{md:"12"},i.a.createElement(I.a,null,i.a.createElement(S.a,null,"Status"),i.a.createElement(w.a,{type:"select",placeholder:"Expense Status*",id:"status",name:"status",value:this.state.status,onChange:function(a){e.setState({status:a.target.value})},required:!0},i.a.createElement("option",{value:""},"Select"),i.a.createElement("option",{value:"0"},"Pending"),i.a.createElement("option",{value:"1"},"Approve"),i.a.createElement("option",{value:"2"},"UnApprove")),i.a.createElement("div",{className:"invalid-feedback"},o.status))))),i.a.createElement(L.a,null,i.a.createElement(C.a,{color:"primary",disabled:s,type:"submit"},s?m:"Save Changes"),i.a.createElement(C.a,{color:"secondary",onClick:this.toggle},"Cancel")))))}}]),t}(o.Component),se=function(e){var a="Pending";return 0===e?a="Pending":1===e?a="Approved":2===e&&(a="UnApproved"),a},le=function(e){Object(s.a)(t,e);var a=Object(l.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).state={buttonProcessing:!1,rowIndex:"",dataTableItem:[]},r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"deleteRegisteredCaseItem",value:function(e){this.props.deleteCasesAction(e)}},{key:"changeRegisteredCaseItemInvestigator",value:function(e){this.props.changeRegisteredInvestigatorAction(e)}},{key:"render",value:function(){var e,a=this,t=[],n=Object(T.a)(this.props.data.entries());try{for(n.s();!(e=n.n()).done;){var r=Object(z.a)(e.value,2),s=r[0],l=r[1];console.log(s);var o={mileageId:l.mileageId,flowType:"".concat(l.flowType),tripDate:l.tripDate,tripStartDate:l.tripStartDate,tripEndDate:l.tripEndDate,fromAddress:l.fromAddress,toAddress:l.toAddress,standardMileageRate:l.standardMileageRate,milesDrivenMiles:l.milesDrivenMiles,parkingCharge:l.parkingCharge,tollCharge:l.tollCharge,totalExpense:l.totalExpense,employeeName:l.employeeName||" ",status:se(l.status),action:""};t.push(o)}}catch(d){n.e(d)}finally{n.f()}var c=[{label:"Company User",name:"employeeName"},{label:"Flow Type",name:"flowType"},{label:"Trip Date",name:"tripDate"},{label:"Trip Start Date",name:"tripStartDate"},{label:"Trip End Date",name:"tripEndDate"},{label:"From Address",name:"fromAddress"},{label:"To Address",name:"toAddress"},{label:"Standard Mileage Rate",name:"standardMileageRate"},{label:"Driven Miles",name:"milesDrivenMiles"},{label:"Parking Charge",name:"parkingCharge"},{label:"Toll Change",name:"tollCharge"},{label:"Total Expense",name:"totalExpense"},{label:"Status",name:"status"},{label:"Action",name:"action",options:{filter:!0,customBodyRender:function(e,t,n){var r=t.rowIndex;return i.a.createElement("p",null,i.a.createElement("button",{className:"btn-edit",disabled:a.state.buttonProcessing,onClick:function(){window.confirm("Are you sure you wish to change status?")&&a.changeRegisteredCaseItemInvestigator(r)}},i.a.createElement("i",{className:"fa fa-user"})),i.a.createElement("button",{className:"btn-delete",disabled:a.state.buttonProcessing,onClick:function(){window.confirm("Are you sure you wish to delete this expense?")&&a.deleteRegisteredCaseItem(r)}},i.a.createElement("i",{className:"fa fa-trash"})))}}}],m={search:!0,viewColumns:!1,filter:!1,searchOpen:!1,print:!1,download:!0,responsive:"stacked",selectableRows:"none",textLabels:{body:{noMatch:this.props.dataTableLoadingStatus?"Processing........":"",toolTip:"Sort",columnHeaderTooltip:function(e){return"Sort for ".concat(e.label)}}},fixedHeaderOptions:{xAxis:!1,yAxis:!1}};return i.a.createElement(D.a,{title:"Mileage",data:t,columns:c,options:m})}}]),t}(o.Component),oe=(t(631),t(380));function ie(e){var a=e.organizationInfo;return i.a.createElement("option",{value:a.authId},a.firstName," ",a.lastName)}var ce=[{path:"/user/",exact:!0,name:"Home"},{path:"/user/dashboard",exact:!0,name:"Dashboard",component:p},{path:"/user/my-profile",exact:!0,name:"Profile",component:k},{path:"/user/change-password",exact:!0,name:"Change Password",component:F},{path:"/user/company-user",exact:!0,name:"Manage Compnay Users",component:U},{path:"/user/company-employee",exact:!0,name:"Manage Employee User",component:V},{path:"/user/registered-cases",exact:!0,name:"Manage Registered Cases",component:G},{path:"/user/registered-cases/:registredCaseId",exact:!0,name:"Registered Case Details",component:Z},{path:"/user/expense",exact:!0,name:"Manage Expense",component:re},{path:"/user/mileage",exact:!0,name:"Manage Mileage",component:function(e){Object(s.a)(t,e);var a=Object(l.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).changeFilterHandler=function(e){var a=e.target.name,t=e.target.value,n=r.state.filterItem;n[a]=t,r.setState({filterItem:n})},r.toggle=function(){r.setState({modal:!r.state.modal,rowIndex:-1,currentCaseInfo:{},assignUserId:""})},r.state={modal:!1,EmployeeList:[],organizationList:[],expenseList:[],loading:!0,formProccessing:!1,rowIndex:-1,filterItem:{filter_organization_id:"",country:"",state:"",custom_search:"",assignUserId:""},currentCaseInfo:{},assignUserId:"",errors:{}},r.handleDeleteCases=r.handleDeleteCases.bind(Object(E.a)(r)),r.submitHandler=r.submitHandler.bind(Object(E.a)(r)),r.filterCasesList=r.filterCasesList.bind(Object(E.a)(r)),r.resetSearchFilter=r.resetSearchFilter.bind(Object(E.a)(r)),r.changeRegisteredInvestigator=r.changeRegisteredInvestigator.bind(Object(E.a)(r)),r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=oe.parse(this.props.location.search);if(void 0!==e.organizationId){var a=this.state.filterItem;a.filter_organization_id=e.organizationId,this.setState({filterItem:a})}this.EmployeeList(this.state.filterItem),this.expenseList(this.state.filterItem)}},{key:"EmployeeList",value:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="?roleType=both";void 0!==a.filter_organization_id&&""!==a.filter_organization_id&&(t+=""!==t?"&organizationId="+a.filter_organization_id:"?organizationId="+a.filter_organization_id),void 0!==a.custom_search&&""!==a.custom_search&&(t+=""!==t?"&keyword="+a.custom_search:"?keyword="+a.custom_search),this.setState({loading:!0},(function(){h.a.getAPIWithAccessToken("employee"+t).then((function(a){if(void 0===a.data.data||!a.data.status)return e.setState({loading:!1}),void d.b.error(a.data.message);e.setState({loading:!1,EmployeeList:a.data.data})})).catch((function(a){void 0!==a.response&&401===a.response.status?(localStorage.clear(),e.props.history.push("/login")):(e.setState({loading:!1}),d.b.error(a.message))}))}))}},{key:"expenseList",value:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="";void 0!==a.filter_organization_id&&""!==a.filter_organization_id&&(t+=""!==t?"&organizationId="+a.filter_organization_id:"?organizationId="+a.filter_organization_id),void 0!==a.employee_id&&""!==a.employee_id&&(t+=""!==t?"&searchBYEmployee="+a.employee_id:"?searchBYEmployee="+a.employee_id),void 0!==a.custom_search&&""!==a.custom_search&&(t+=""!==t?"&keyword="+a.custom_search:"?keyword="+a.custom_search),void 0!==a.caseId&&""!==a.caseId&&(t+=""!==t?"&caseId="+a.caseId:"?caseId="+a.caseId),this.setState({loading:!0},(function(){h.a.getAPIWithAccessToken("mileage"+t).then((function(a){if(void 0===a.data.data||!a.data.status)return e.setState({loading:!1}),void d.b.error(a.data.message);e.setState({loading:!1,expenseList:a.data.data})})).catch((function(a){void 0!==a.response&&401===a.response.status?(localStorage.clear(),e.props.history.push("/login")):(e.setState({loading:!1}),d.b.error(a.message))}))}))}},{key:"filterCasesList",value:function(){var e=this.state.filterItem;this.expenseList(e)}},{key:"handleDeleteCases",value:function(e){var a=this,t=this.state.expenseList[e];this.setState({loading:!0},(function(){h.a.deleteAPIWithAccessToken("mileage",{mileageId:t.mileageId}).then((function(e){if(void 0===e.data.data||!e.data.status)return a.setState({loading:!1}),void d.b.error(e.data.message);a.setState({modal:!1,loading:!1}),d.b.success(e.data.message),a.expenseList(a.state.filterItem)})).catch((function(e){void 0!==e.response&&401===e.response.status?(localStorage.clear(),a.props.history.push("/login")):a.setState({loading:!1}),d.b.error(e.message)}))}))}},{key:"resetSearchFilter",value:function(){this.setState({filterItem:{filter_organization_id:"",status:"",custom_search:"",employee_id:"",caseId:""}}),this.expenseList()}},{key:"changeRegisteredInvestigator",value:function(e){var a=this.state.expenseList[e];this.setState({modal:!0,rowIndex:e,currentCaseInfo:a,status:a.status||0})}},{key:"submitHandler",value:function(e){var a=this;if(e.preventDefault(),e.target.className+=" was-validated",void 0===this.state.status||""===this.state.status){return this.setState({errors:{status:"Please select status"}}),!1}this.setState({formProccessing:!0,errors:{}},(function(){var e=a.state.rowIndex,t=a.state.expenseList[e];h.a.postAPIWithAccessToken("mileage/change-status",{mileageId:t.mileageId,status:a.state.status}).then((function(e){if(void 0===e.data.data||!e.data.status)return a.setState({formProccessing:!1}),void d.b.error(e.data.message);a.setState({modal:!1,formProccessing:!1}),d.b.success(e.data.message),a.expenseList(a.state.filterItem)})).catch((function(e){void 0!==e.response&&401===e.response.status?(localStorage.clear(),a.props.history.push("/login")):(a.setState({formProccessing:!1}),d.b.error(e.message))}))}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.loading,n=a.expenseList,r=a.modal,s=a.formProccessing,l=a.EmployeeList,o=a.errors,c="";t&&(c=i.a.createElement(g.a,null));var m=i.a.createElement(i.a.Fragment,null,"Save Changes ",i.a.createElement("i",{className:"fa fa-spinner"}));return i.a.createElement("div",{className:"dashboard-section"},c,i.a.createElement(f.a,{className:"vd-card"},i.a.createElement(v.a,null,i.a.createElement("div",{className:"d-flex align-items-center"},i.a.createElement("div",{className:"mr-auto"},i.a.createElement("h4",{className:"card-title"},i.a.createElement("i",{class:"fa fa-money"})," Manage Mileage")))),i.a.createElement(y.a,{className:"item-list-section"},i.a.createElement("div",{className:"Search-filter"},i.a.createElement("div",{className:"row"},i.a.createElement(N.a,{md:"3"},i.a.createElement(I.a,null,i.a.createElement(S.a,{htmlFor:"filter_organization_id"},"Search By Employee"),i.a.createElement(w.a,{type:"select",placeholder:"Search By Employee",id:"assignUserId",name:"assignUserId",value:this.state.filterItem.assignUserId,onChange:this.changeFilterHandler},i.a.createElement("option",{value:""},"Select"),l.map((function(e,a){return i.a.createElement(ie,{key:a,organizationInfo:e})}))))),i.a.createElement(N.a,{md:"1",className:"p-0"},i.a.createElement(I.a,null,i.a.createElement(S.a,null,"\xa0"),i.a.createElement(C.a,{color:" search-c-change",type:"button",size:"lg",onClick:this.filterCasesList},i.a.createElement("i",{className:"fa fa-search"})),"\xa0",i.a.createElement(C.a,{color:" reset-c-change",type:"reset",size:"lg",onClick:this.resetSearchFilter},i.a.createElement("i",{className:"fa fa-refresh"})))))),i.a.createElement("div",{className:"card-table table-responsive"},i.a.createElement(le,{data:n,deleteCasesAction:this.handleDeleteCases,changeRegisteredInvestigatorAction:this.changeRegisteredInvestigator,dataTableLoadingStatus:this.state.loading})))),i.a.createElement(x.a,{isOpen:r,toggle:this.toggle,className:"full-width-modal-section organization-modal"},i.a.createElement(A.a,{toggle:this.toggle},"Change Expense Status"),i.a.createElement(b.a,{onSubmit:this.submitHandler,noValidate:!0},i.a.createElement(O.a,null,i.a.createElement(u.a,null,i.a.createElement(N.a,{md:"12"},i.a.createElement(I.a,null,i.a.createElement(S.a,null,"Status"),i.a.createElement(w.a,{type:"select",placeholder:"Expense Status*",id:"status",name:"status",value:this.state.status,onChange:function(a){e.setState({status:a.target.value})},required:!0},i.a.createElement("option",{value:""},"Select"),i.a.createElement("option",{value:"0"},"Pending"),i.a.createElement("option",{value:"1"},"Approve"),i.a.createElement("option",{value:"2"},"UnApprove")),i.a.createElement("div",{className:"invalid-feedback"},o.status))))),i.a.createElement(L.a,null,i.a.createElement(C.a,{color:"primary",disabled:s,type:"submit"},s?m:"Save Changes"),i.a.createElement(C.a,{color:"secondary",onClick:this.toggle},"Cancel")))))}}]),t}(o.Component)}],me=t(632),de=t(709),ue=t(707),he=t(695),ge=t(696),pe=t(697),Ee=t(698),fe=t(699),ve=t(700),ye=function(e){Object(s.a)(t,e);var a=Object(l.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).toggleUserMenu=function(){r.setState({dropdownOpen:!r.state.dropdownOpen})},r.state={collapseID:!1,isLoggedOut:!1,toggleActive:!1,dropdownOpen:!1,setDropdownOpen:!1},r.onToggle=r.onToggle.bind(Object(E.a)(r)),r.toggleUserMenu=r.toggleUserMenu.bind(Object(E.a)(r)),r}return Object(r.a)(t,[{key:"onToggle",value:function(){this.setState({toggleActive:!this.state.toggleActive})}},{key:"logoutUser",value:function(){localStorage.clear(),this.setState({isLoggedOut:!0})}},{key:"render",value:function(){var e=this,a="";return a=h.a.getAuth()?i.a.createElement(i.a.Fragment,null,i.a.createElement(me.a,{nav:!0,isOpen:this.state.dropdownOpen,toggle:this.toggleUserMenu,className:"user-menu"},i.a.createElement(de.a,{nav:!0,caret:!0},i.a.createElement("img",{src:"/images/profile.png",alt:"user",className:"profile-pic"})," \xa0",i.a.createElement("b",null,h.a.getLocalStorageValue("userName"))),i.a.createElement(ue.a,null,i.a.createElement(he.a,null,i.a.createElement(W.Link,{to:"admin"===h.a.getLocalStorageValue("role").toLowerCase()?"/admin/dashboard":"/user/dashboard"},i.a.createElement("i",{className:"fa fa-dashboard"})," Dashboard")),i.a.createElement(he.a,null,i.a.createElement(W.Link,{to:"admin"===h.a.getLocalStorageValue("role").toLowerCase()?"/admin/profile":"/user/my-profile"},i.a.createElement("i",{className:"fa fa-user"})," My Profile")),("organization"===h.a.getLocalStorageValue("role").toLowerCase()||"admin"!==h.a.getLocalStorageValue("role").toLowerCase())&&i.a.createElement(he.a,null,i.a.createElement(W.Link,{to:"/user/change-password"},i.a.createElement("i",{className:"fa fa-key"})," Change Password")),i.a.createElement(he.a,null,i.a.createElement(W.Link,{to:"/",onClick:function(){return e.logoutUser()}},i.a.createElement("i",{className:"fa fa-sign-out"})," Log Out"))))):i.a.createElement(i.a.Fragment,null,i.a.createElement(ge.a,null,i.a.createElement(W.Link,{to:"/login"},"Login/Register")),i.a.createElement(ge.a,null,i.a.createElement(W.Link,{className:"Sell-btn",to:"/register"},"Hire an Assistant ",i.a.createElement("i",{className:"fa fa-angle-right"})))),i.a.createElement("header",{className:"header"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:""},i.a.createElement("div",{className:"header-navigation"},i.a.createElement(pe.a,{expand:"lg",className:"static-top"},i.a.createElement(W.Link,{to:"/",className:"navbar-brand"},i.a.createElement("img",{src:"".concat("","/logo.png"),height:"40",alt:"Logo"})),i.a.createElement(Ee.a,{onClick:this.onToggle,"data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}),i.a.createElement(fe.a,{isOpen:this.state.toggleActive,navbar:!0,className:"justify-content-end",id:"navbarSupportedContent"},i.a.createElement(ve.a,{className:"navbar-nav mr-auto",navbar:!0},i.a.createElement(ge.a,null)),i.a.createElement(ve.a,{className:"navbar-nav",navbar:!0},a)))))))}}]),t}(i.a.Component),be=(t(650),function(e){Object(s.a)(t,e);var a=Object(l.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).toggle=r.toggle.bind(Object(E.a)(r)),r.state={isOpen:!0,activeTab:"1",isLoggedOut:!1},r}return Object(r.a)(t,[{key:"toggle",value:function(e){this.state.activeTab!==e&&this.setState({isOpen:!0,activeTab:e})}},{key:"logoutUser",value:function(){localStorage.clear(),this.setState({isLoggedOut:!0})}},{key:"render",value:function(){return i.a.createElement("div",{className:"user-navbar"},i.a.createElement(pe.a,{className:"",expand:"md"},i.a.createElement(fe.a,{isOpen:this.state.isOpen,navbar:!0},i.a.createElement(ve.a,{navbar:!0,className:"user-widget-list"},i.a.createElement(ge.a,null,i.a.createElement(W.Link,{to:"/user/dashboard",className:"nav-link"},i.a.createElement("i",{className:"fa fa-dashboard"}),i.a.createElement("span",{className:"value-orders"},"Dashboard"))),i.a.createElement(ge.a,null,i.a.createElement(W.Link,{to:"/user/company-user",className:"nav-link"},i.a.createElement("i",{className:"fa fa-group"}),i.a.createElement("span",{className:"value-orders"},"Manage Company User"))),i.a.createElement(ge.a,null,i.a.createElement(W.Link,{to:"/user/company-employee",className:"nav-link"},i.a.createElement("i",{className:"fa fa-user","aria-hidden":"true"}),i.a.createElement("span",{className:"value-orders"},"Manage Employee User"))),i.a.createElement(ge.a,null,i.a.createElement(W.Link,{to:"/user/registered-cases",className:"nav-link"},i.a.createElement("i",{className:"fa fa-file-text","aria-hidden":"true"}),i.a.createElement("span",{className:"value-orders"},"Manage Registered Cases"))),i.a.createElement(ge.a,null,i.a.createElement(W.Link,{to:"/user/expense",className:"nav-link"},i.a.createElement("i",{className:"fa fa-money"}),i.a.createElement("span",{className:"value-orders"},"Manage Expense"))),i.a.createElement(ge.a,null,i.a.createElement(W.Link,{to:"/user/mileage",className:"nav-link"},i.a.createElement("i",{className:"fa fa-money"}),i.a.createElement("span",{className:"value-orders"},"Manage Mileage")))))))}}]),t}(o.Component)),Ne=(t(651),function(e){Object(s.a)(t,e);var a=Object(l.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return(e=a.call.apply(a,[this].concat(s))).loading=function(){return i.a.createElement("div",{className:"animated fadeIn pt-1 text-center"},"Loading...")},e}return Object(r.a)(t,[{key:"signOut",value:function(e){e.preventDefault(),localStorage.clear(),this.props.history.push("/login")}},{key:"render",value:function(){return i.a.createElement("div",{className:"app user-layout"},i.a.createElement(ye,null),i.a.createElement("div",{className:"page-wrapper"},i.a.createElement("div",{className:"dashboard-memu"},i.a.createElement(be,null)),i.a.createElement(m.a,null,i.a.createElement(d.a,null),i.a.createElement(o.Suspense,{fallback:this.loading()},i.a.createElement(c.g,null,ce.map((function(e,a){return e.component?i.a.createElement(c.d,{key:a,path:e.path,exact:e.exact,name:e.name,render:function(a){return i.a.createElement(e.component,a)}}):null})),i.a.createElement(c.c,{from:"/user",to:"/user/dashboard"}))))))}}]),t}(o.Component));a.default=Ne}}]);
//# sourceMappingURL=4.53e94af1.chunk.js.map